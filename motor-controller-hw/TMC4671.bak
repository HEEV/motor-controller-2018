EESchema Schematic File Version 4
LIBS:motor-controller-hw-cache
EELAYER 26 0
EELAYER END
$Descr USLetter 11000 8500
encoding utf-8
Sheet 4 4
Title "TMC4671"
Date "2018-11-28"
Rev "1.0"
Comp "Cedarville University"
Comment1 "Supermileage Motor Controller"
Comment2 "Senior Design 2018-2019"
Comment3 "Samuel Ellicott"
Comment4 ""
$EndDescr
$Comp
L MotorControllerParts:Conn_01x03 J?
U 1 1 5C027C01
P 3050 6000
F 0 "J?" H 3000 6200 50  0000 L CNN
F 1 "TMC4671 USART" V 3200 5700 50  0000 L CNN
F 2 "" H 3050 6000 50  0001 C CNN
F 3 "~" H 3050 6000 50  0001 C CNN
	1    3050 6000
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C027C08
P 2750 6350
F 0 "#PWR?" H 2750 6100 50  0001 C CNN
F 1 "GNDD" H 2754 6195 50  0000 C CNN
F 2 "" H 2750 6350 50  0001 C CNN
F 3 "" H 2750 6350 50  0001 C CNN
	1    2750 6350
	1    0    0    -1  
$EndComp
Text Label 2300 6000 0    50   ~ 0
USART_Tx
Text Label 2300 6100 0    50   ~ 0
USART_Rx
Wire Wire Line
	2750 6350 2750 5900
Wire Wire Line
	2750 5900 2850 5900
Wire Wire Line
	2300 6000 2850 6000
Wire Wire Line
	2300 6100 2850 6100
$Comp
L MotorControllerParts:C C?
U 1 1 5C1A8310
P 850 7350
F 0 "C?" H 900 7450 50  0000 L CNN
F 1 "100n" H 900 7250 50  0000 L CNN
F 2 "" H 888 7200 50  0001 C CNN
F 3 "" H 850 7350 50  0001 C CNN
	1    850  7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1A8969
P 1200 7350
F 0 "C?" H 1250 7450 50  0000 L CNN
F 1 "100n" H 1250 7250 50  0000 L CNN
F 2 "" H 1238 7200 50  0001 C CNN
F 3 "" H 1200 7350 50  0001 C CNN
	1    1200 7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1A89A9
P 1550 7350
F 0 "C?" H 1600 7450 50  0000 L CNN
F 1 "100n" H 1600 7250 50  0000 L CNN
F 2 "" H 1588 7200 50  0001 C CNN
F 3 "" H 1550 7350 50  0001 C CNN
	1    1550 7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1A8B47
P 1900 7350
F 0 "C?" H 1950 7450 50  0000 L CNN
F 1 "100n" H 1950 7250 50  0000 L CNN
F 2 "" H 1938 7200 50  0001 C CNN
F 3 "" H 1900 7350 50  0001 C CNN
	1    1900 7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1A8B4E
P 2300 7350
F 0 "C?" H 2350 7450 50  0000 L CNN
F 1 "100n" H 2350 7250 50  0000 L CNN
F 2 "" H 2338 7200 50  0001 C CNN
F 3 "" H 2300 7350 50  0001 C CNN
	1    2300 7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1A8B55
P 2650 7350
F 0 "C?" H 2700 7450 50  0000 L CNN
F 1 "100n" H 2700 7250 50  0000 L CNN
F 2 "" H 2688 7200 50  0001 C CNN
F 3 "" H 2650 7350 50  0001 C CNN
	1    2650 7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1A8CB9
P 3750 7350
F 0 "C?" H 3800 7450 50  0000 L CNN
F 1 "100n" H 3800 7250 50  0000 L CNN
F 2 "" H 3788 7200 50  0001 C CNN
F 3 "" H 3750 7350 50  0001 C CNN
	1    3750 7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1A8CC0
P 4100 7350
F 0 "C?" H 4150 7450 50  0000 L CNN
F 1 "100n" H 4150 7250 50  0000 L CNN
F 2 "" H 4138 7200 50  0001 C CNN
F 3 "" H 4100 7350 50  0001 C CNN
	1    4100 7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1A8CC7
P 4450 7350
F 0 "C?" H 4500 7450 50  0000 L CNN
F 1 "100n" H 4500 7250 50  0000 L CNN
F 2 "" H 4488 7200 50  0001 C CNN
F 3 "" H 4450 7350 50  0001 C CNN
	1    4450 7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1A8D24
P 4850 7350
F 0 "C?" H 4900 7450 50  0000 L CNN
F 1 "100n" H 4900 7250 50  0000 L CNN
F 2 "" H 4888 7200 50  0001 C CNN
F 3 "" H 4850 7350 50  0001 C CNN
	1    4850 7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C1A91DD
P 2100 7600
F 0 "#PWR?" H 2100 7350 50  0001 C CNN
F 1 "GNDD" H 2104 7445 50  0000 C CNN
F 2 "" H 2100 7600 50  0001 C CNN
F 3 "" H 2100 7600 50  0001 C CNN
	1    2100 7600
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5C1A935F
P 2100 7100
F 0 "#PWR?" H 2100 6950 50  0001 C CNN
F 1 "+3.3V" H 2115 7273 50  0000 C CNN
F 2 "" H 2100 7100 50  0001 C CNN
F 3 "" H 2100 7100 50  0001 C CNN
	1    2100 7100
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C1A93D1
P 4100 7600
F 0 "#PWR?" H 4100 7350 50  0001 C CNN
F 1 "GNDD" H 4104 7445 50  0000 C CNN
F 2 "" H 4100 7600 50  0001 C CNN
F 3 "" H 4100 7600 50  0001 C CNN
	1    4100 7600
	1    0    0    -1  
$EndComp
Wire Wire Line
	850  7200 850  7150
Wire Wire Line
	850  7150 1200 7150
Wire Wire Line
	2650 7150 2650 7200
Wire Wire Line
	2300 7200 2300 7150
Connection ~ 2300 7150
Wire Wire Line
	2300 7150 2650 7150
Wire Wire Line
	1900 7200 1900 7150
Connection ~ 1900 7150
Wire Wire Line
	1900 7150 2100 7150
Wire Wire Line
	1550 7200 1550 7150
Connection ~ 1550 7150
Wire Wire Line
	1200 7200 1200 7150
Connection ~ 1200 7150
Wire Wire Line
	1200 7150 1550 7150
Wire Wire Line
	850  7500 850  7550
Wire Wire Line
	850  7550 1200 7550
Wire Wire Line
	2650 7550 2650 7500
Wire Wire Line
	2300 7550 2300 7500
Connection ~ 2300 7550
Wire Wire Line
	2300 7550 2650 7550
Wire Wire Line
	1900 7550 1900 7500
Connection ~ 1900 7550
Wire Wire Line
	1900 7550 2100 7550
Wire Wire Line
	1550 7550 1550 7500
Connection ~ 1550 7550
Wire Wire Line
	1200 7550 1200 7500
Connection ~ 1200 7550
Wire Wire Line
	1200 7550 1550 7550
Wire Wire Line
	3750 7200 3750 7150
Wire Wire Line
	3750 7150 4100 7150
Wire Wire Line
	4450 7150 4450 7200
Wire Wire Line
	4100 7200 4100 7150
Connection ~ 4100 7150
Wire Wire Line
	3750 7500 3750 7550
Wire Wire Line
	3750 7550 4100 7550
Wire Wire Line
	4450 7550 4450 7500
Connection ~ 4100 7550
Wire Wire Line
	4100 7550 4100 7500
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C1AC665
P 5050 7600
F 0 "#PWR?" H 5050 7350 50  0001 C CNN
F 1 "GNDD" H 5054 7445 50  0000 C CNN
F 2 "" H 5050 7600 50  0001 C CNN
F 3 "" H 5050 7600 50  0001 C CNN
	1    5050 7600
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1ADD9D
P 3350 7350
F 0 "C?" H 3400 7450 50  0000 L CNN
F 1 "4u7" H 3400 7250 50  0000 L CNN
F 2 "" H 3388 7200 50  0001 C CNN
F 3 "" H 3350 7350 50  0001 C CNN
	1    3350 7350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C1AE541
P 3000 7350
F 0 "C?" H 3050 7450 50  0000 L CNN
F 1 "470n" H 3050 7250 50  0000 L CNN
F 2 "" H 3038 7200 50  0001 C CNN
F 3 "" H 3000 7350 50  0001 C CNN
	1    3000 7350
	1    0    0    -1  
$EndComp
Wire Wire Line
	3000 7200 3000 7150
Wire Wire Line
	3000 7150 2650 7150
Connection ~ 2650 7150
Wire Wire Line
	3350 7200 3350 7150
Wire Wire Line
	3350 7150 3000 7150
Connection ~ 3000 7150
Wire Wire Line
	3000 7500 3000 7550
Wire Wire Line
	3000 7550 2650 7550
Connection ~ 2650 7550
Wire Wire Line
	3350 7500 3350 7550
Wire Wire Line
	3350 7550 3000 7550
Connection ~ 3000 7550
Wire Wire Line
	1550 7550 1900 7550
Wire Wire Line
	1550 7150 1900 7150
Wire Wire Line
	2100 7100 2100 7150
Connection ~ 2100 7150
Wire Wire Line
	2100 7150 2300 7150
Wire Wire Line
	2100 7600 2100 7550
Connection ~ 2100 7550
Wire Wire Line
	2100 7550 2300 7550
Wire Wire Line
	4100 7550 4450 7550
Wire Wire Line
	4100 7150 4450 7150
Wire Wire Line
	4100 7600 4100 7550
$Comp
L MotorControllerParts:C C?
U 1 1 5C1CBD45
P 5250 7350
F 0 "C?" H 5300 7450 50  0000 L CNN
F 1 "4u7" H 5300 7250 50  0000 L CNN
F 2 "" H 5288 7200 50  0001 C CNN
F 3 "" H 5250 7350 50  0001 C CNN
	1    5250 7350
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 7200 4850 7150
Wire Wire Line
	4850 7150 5050 7150
Wire Wire Line
	5250 7150 5250 7200
Wire Wire Line
	4850 7500 4850 7550
Wire Wire Line
	4850 7550 5050 7550
Wire Wire Line
	5250 7550 5250 7500
Wire Wire Line
	5050 7600 5050 7550
Connection ~ 5050 7550
Wire Wire Line
	5050 7550 5250 7550
Wire Wire Line
	5050 7150 5050 7100
Connection ~ 5050 7150
Wire Wire Line
	5050 7150 5250 7150
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5C1D2791
P 5050 7100
F 0 "#PWR?" H 5050 6950 50  0001 C CNN
F 1 "+5V" H 5065 7273 50  0000 C CNN
F 2 "" H 5050 7100 50  0001 C CNN
F 3 "" H 5050 7100 50  0001 C CNN
	1    5050 7100
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5C1D2858
P 5300 950
F 0 "#PWR?" H 5300 800 50  0001 C CNN
F 1 "+3.3V" H 5315 1123 50  0000 C CNN
F 2 "" H 5300 950 50  0001 C CNN
F 3 "" H 5300 950 50  0001 C CNN
	1    5300 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	5050 1050 5050 1000
Wire Wire Line
	5050 1000 5150 1000
Wire Wire Line
	5550 1000 5550 1050
Wire Wire Line
	5450 1050 5450 1000
Connection ~ 5450 1000
Wire Wire Line
	5450 1000 5550 1000
Wire Wire Line
	5350 1050 5350 1000
Connection ~ 5350 1000
Wire Wire Line
	5350 1000 5450 1000
Wire Wire Line
	5250 1050 5250 1000
Connection ~ 5250 1000
Wire Wire Line
	5250 1000 5300 1000
Wire Wire Line
	5150 1050 5150 1000
Connection ~ 5150 1000
Wire Wire Line
	5150 1000 5250 1000
Wire Wire Line
	5300 1000 5300 950 
Connection ~ 5300 1000
Wire Wire Line
	5300 1000 5350 1000
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5C1D935B
P 6200 950
F 0 "#PWR?" H 6200 800 50  0001 C CNN
F 1 "+5V" H 6215 1123 50  0000 C CNN
F 2 "" H 6200 950 50  0001 C CNN
F 3 "" H 6200 950 50  0001 C CNN
	1    6200 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 1050 6200 950 
Wire Wire Line
	5750 1050 5750 1000
Wire Wire Line
	5750 1000 5850 1000
Wire Wire Line
	5950 1000 5950 1050
Wire Wire Line
	5850 1050 5850 1000
Connection ~ 5850 1000
Wire Wire Line
	5850 1000 5950 1000
Text Label 5850 800  3    50   ~ 0
1v8
Wire Wire Line
	5850 800  5850 1000
Text Label 4100 6950 3    50   ~ 0
1v8
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C1E0105
P 5300 5950
F 0 "#PWR?" H 5300 5700 50  0001 C CNN
F 1 "GNDD" H 5304 5795 50  0000 C CNN
F 2 "" H 5300 5950 50  0001 C CNN
F 3 "" H 5300 5950 50  0001 C CNN
	1    5300 5950
	1    0    0    -1  
$EndComp
Wire Wire Line
	5050 5850 5050 5900
Wire Wire Line
	5050 5900 5150 5900
Wire Wire Line
	5550 5900 5550 5850
Wire Wire Line
	5450 5850 5450 5900
Connection ~ 5450 5900
Wire Wire Line
	5450 5900 5550 5900
Wire Wire Line
	5350 5850 5350 5900
Connection ~ 5350 5900
Wire Wire Line
	5350 5900 5450 5900
Wire Wire Line
	5250 5850 5250 5900
Connection ~ 5250 5900
Wire Wire Line
	5250 5900 5300 5900
Wire Wire Line
	5150 5850 5150 5900
Connection ~ 5150 5900
Wire Wire Line
	5150 5900 5250 5900
Wire Wire Line
	5300 5950 5300 5900
Connection ~ 5300 5900
Wire Wire Line
	5300 5900 5350 5900
Wire Wire Line
	5800 5950 5800 5850
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C1EEFF8
P 6050 5950
F 0 "#PWR?" H 6050 5700 50  0001 C CNN
F 1 "GNDD" H 6054 5795 50  0000 C CNN
F 2 "" H 6050 5950 50  0001 C CNN
F 3 "" H 6050 5950 50  0001 C CNN
	1    6050 5950
	1    0    0    -1  
$EndComp
Wire Wire Line
	6050 5950 6050 5850
Wire Wire Line
	4100 6950 4100 7150
Text Label 3800 3600 0    50   ~ 0
USART_Tx
Text Label 3800 3500 0    50   ~ 0
USART_Rx
Wire Wire Line
	3800 3500 4250 3500
Wire Wire Line
	3800 3600 4250 3600
Text HLabel 9750 1250 2    50   Output ~ 0
PWM_Phase_AH
Text HLabel 9750 1350 2    50   Output ~ 0
PWM_Phase_AL
Text HLabel 9750 1450 2    50   Output ~ 0
PWM_Phase_BH
Text HLabel 9750 1550 2    50   Output ~ 0
PWM_Phase_BL
Text HLabel 9750 1650 2    50   Output ~ 0
PWM_Phase_CH
Text HLabel 9750 1750 2    50   Output ~ 0
PWM_Phase_CL
Text Label 9350 1250 0    50   ~ 0
PWM_AH
Text Label 9350 1350 0    50   ~ 0
PWM_AL
Text Label 9350 1450 0    50   ~ 0
PWM_BH
Text Label 9350 1550 0    50   ~ 0
PWM_BL
Text Label 9350 1650 0    50   ~ 0
PWM_CH
Text Label 9350 1750 0    50   ~ 0
PWM_CL
Wire Wire Line
	9350 1750 9750 1750
Wire Wire Line
	9350 1650 9750 1650
Wire Wire Line
	9350 1550 9750 1550
Wire Wire Line
	9350 1450 9750 1450
Wire Wire Line
	9350 1350 9750 1350
Wire Wire Line
	9350 1250 9750 1250
Text Label 7450 2300 2    50   ~ 0
PWM_AH
Text Label 7450 2400 2    50   ~ 0
PWM_AL
Text Label 7450 2500 2    50   ~ 0
PWM_BH
Text Label 7450 2600 2    50   ~ 0
PWM_BL
Text Label 7450 2700 2    50   ~ 0
PWM_CH
Text Label 7450 2800 2    50   ~ 0
PWM_CL
Wire Wire Line
	7450 2800 7050 2800
Wire Wire Line
	7450 2700 7050 2700
Wire Wire Line
	7450 2600 7050 2600
Wire Wire Line
	7450 2500 7050 2500
Wire Wire Line
	7450 2400 7050 2400
Wire Wire Line
	7450 2300 7050 2300
Text HLabel 1000 1050 0    50   Input ~ 0
~SPI_CS
Text HLabel 1000 1150 0    50   Input ~ 0
SPI_SCK
Text HLabel 1000 1250 0    50   Input ~ 0
SPI_MOSI
Text HLabel 1000 1350 0    50   Output ~ 0
SPI_MISO
Text Label 3800 3000 0    50   ~ 0
SPI_CS
Text Label 3800 3100 0    50   ~ 0
SPI_SCK
Text Label 3800 3200 0    50   ~ 0
SPI_MOSI
Text Label 3800 3300 0    50   ~ 0
SPI_MISO
Wire Wire Line
	3800 3000 4250 3000
Wire Wire Line
	3800 3100 4250 3100
Wire Wire Line
	3800 3200 4250 3200
Wire Wire Line
	3800 3300 4250 3300
Text Label 1450 1050 2    50   ~ 0
SPI_CS
Text Label 1450 1150 2    50   ~ 0
SPI_SCK
Text Label 1450 1250 2    50   ~ 0
SPI_MOSI
Text Label 1450 1350 2    50   ~ 0
SPI_MISO
Wire Wire Line
	1450 1050 1000 1050
Wire Wire Line
	1450 1150 1000 1150
Wire Wire Line
	1450 1250 1000 1250
Wire Wire Line
	1450 1350 1000 1350
NoConn ~ 4250 5200
NoConn ~ 4250 5100
NoConn ~ 4250 5000
Text HLabel 1000 1550 0    50   Input ~ 0
HALL_A
Text HLabel 1000 1650 0    50   Input ~ 0
HALL_B
Text HLabel 1000 1750 0    50   Input ~ 0
HALL_C
Text Label 3800 4400 0    50   ~ 0
HALL_A
Text Label 3800 4500 0    50   ~ 0
HALL_B
Text Label 3800 4600 0    50   ~ 0
HALL_C
Wire Wire Line
	3800 4400 4250 4400
Wire Wire Line
	3800 4500 4250 4500
Wire Wire Line
	3800 4600 4250 4600
Text Label 1450 1550 2    50   ~ 0
HALL_A
Text Label 1450 1650 2    50   ~ 0
HALL_B
Text Label 1450 1750 2    50   ~ 0
HALL_C
Wire Wire Line
	1450 1550 1000 1550
Wire Wire Line
	1450 1650 1000 1650
Wire Wire Line
	1450 1750 1000 1750
Text HLabel 9650 2750 2    50   Input ~ 0
Phase_A_Current
Text HLabel 9650 3600 2    50   Input ~ 0
Phase_B_Current
Text Label 8250 3600 0    50   ~ 0
B_Current
Text Label 7450 3200 2    50   ~ 0
A_Current
Text Label 7450 3400 2    50   ~ 0
B_Current
Wire Wire Line
	7450 3400 7050 3400
Wire Wire Line
	7050 3200 7450 3200
$Comp
L MotorControllerParts:R R?
U 1 1 5C3A0900
P 1650 4000
F 0 "R?" H 1720 4046 50  0000 L CNN
F 1 "10K" H 1720 3955 50  0000 L CNN
F 2 "" V 1580 4000 50  0001 C CNN
F 3 "" H 1650 4000 50  0001 C CNN
	1    1650 4000
	-1   0    0    -1  
$EndComp
$Comp
L MotorControllerParts:R R?
U 1 1 5C3A09E6
P 1650 4700
F 0 "R?" H 1720 4746 50  0000 L CNN
F 1 "10K" H 1720 4655 50  0000 L CNN
F 2 "" V 1580 4700 50  0001 C CNN
F 3 "" H 1650 4700 50  0001 C CNN
	1    1650 4700
	-1   0    0    -1  
$EndComp
$Comp
L MotorControllerParts:R R?
U 1 1 5C3A0ADF
P 2400 4700
F 0 "R?" H 2470 4746 50  0000 L CNN
F 1 "10K" H 2470 4655 50  0000 L CNN
F 2 "" V 2330 4700 50  0001 C CNN
F 3 "" H 2400 4700 50  0001 C CNN
	1    2400 4700
	-1   0    0    -1  
$EndComp
$Comp
L MotorControllerParts:R R?
U 1 1 5C3A0B27
P 2400 4000
F 0 "R?" H 2470 4046 50  0000 L CNN
F 1 "10K" H 2470 3955 50  0000 L CNN
F 2 "" V 2330 4000 50  0001 C CNN
F 3 "" H 2400 4000 50  0001 C CNN
	1    2400 4000
	-1   0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C3BEBAE
P 2200 4950
F 0 "#PWR?" H 2200 4700 50  0001 C CNN
F 1 "GNDD" H 2204 4795 50  0000 C CNN
F 2 "" H 2200 4950 50  0001 C CNN
F 3 "" H 2200 4950 50  0001 C CNN
	1    2200 4950
	-1   0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5C3BEC64
P 2400 3800
F 0 "#PWR?" H 2400 3650 50  0001 C CNN
F 1 "+5V" H 2415 3973 50  0000 C CNN
F 2 "" H 2400 3800 50  0001 C CNN
F 3 "" H 2400 3800 50  0001 C CNN
	1    2400 3800
	-1   0    0    -1  
$EndComp
Wire Wire Line
	2400 3850 2400 3800
Wire Wire Line
	1650 3800 1650 3850
Wire Wire Line
	2400 4850 2400 4900
Wire Wire Line
	2400 4900 2200 4900
Wire Wire Line
	2200 4950 2200 4900
Connection ~ 2200 4900
Wire Wire Line
	2200 4900 2000 4900
$Comp
L MotorControllerParts:IQXO-50 X?
U 1 1 5C3F9FBE
P 2800 2700
F 0 "X?" H 2350 2500 50  0000 L CNN
F 1 "IQXO-50" H 2200 2600 50  0000 L CNN
F 2 "Oscillator:Oscillator_SMD_IQD_IQXO70-4Pin_7.5x5.0mm" H 3475 2375 50  0001 C CNN
F 3 "https://www.foxonline.com/pdfs/fox924.pdf" H 2700 2700 50  0001 C CNN
	1    2800 2700
	1    0    0    -1  
$EndComp
Text Label 3300 2700 2    50   ~ 0
CLK
Wire Wire Line
	3300 2700 3100 2700
Text Label 3950 1650 0    50   ~ 0
CLK
Wire Wire Line
	3950 1650 4250 1650
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5C412AFB
P 2800 2350
F 0 "#PWR?" H 2800 2200 50  0001 C CNN
F 1 "+3.3V" H 2815 2523 50  0000 C CNN
F 2 "" H 2800 2350 50  0001 C CNN
F 3 "" H 2800 2350 50  0001 C CNN
	1    2800 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	2800 2350 2800 2400
$Comp
L MotorControllerParts:C C?
U 1 1 5C418FA1
P 1850 2800
F 0 "C?" H 1965 2846 50  0000 L CNN
F 1 "100n" H 1965 2755 50  0000 L CNN
F 2 "" H 1888 2650 50  0001 C CNN
F 3 "" H 1850 2800 50  0001 C CNN
	1    1850 2800
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C41910A
P 2800 3050
F 0 "#PWR?" H 2800 2800 50  0001 C CNN
F 1 "GNDD" H 2804 2895 50  0000 C CNN
F 2 "" H 2800 3050 50  0001 C CNN
F 3 "" H 2800 3050 50  0001 C CNN
	1    2800 3050
	-1   0    0    -1  
$EndComp
Wire Wire Line
	2800 3050 2800 3000
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5C41F53E
P 1850 2350
F 0 "#PWR?" H 1850 2200 50  0001 C CNN
F 1 "+3.3V" H 1865 2523 50  0000 C CNN
F 2 "" H 1850 2350 50  0001 C CNN
F 3 "" H 1850 2350 50  0001 C CNN
	1    1850 2350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C41F573
P 1850 3050
F 0 "#PWR?" H 1850 2800 50  0001 C CNN
F 1 "GNDD" H 1854 2895 50  0000 C CNN
F 2 "" H 1850 3050 50  0001 C CNN
F 3 "" H 1850 3050 50  0001 C CNN
	1    1850 3050
	-1   0    0    -1  
$EndComp
Wire Wire Line
	1850 3050 1850 2950
Wire Wire Line
	1850 2650 1850 2350
Text HLabel 1000 2350 0    50   Input ~ 0
DGND
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C5A1489
P 1400 2600
F 0 "#PWR?" H 1400 2350 50  0001 C CNN
F 1 "GNDD" H 1404 2445 50  0000 C CNN
F 2 "" H 1400 2600 50  0001 C CNN
F 3 "" H 1400 2600 50  0001 C CNN
	1    1400 2600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1400 2600 1400 2350
Wire Wire Line
	1400 2350 1000 2350
$Comp
L MotorControllerParts:R R?
U 1 1 5C71FD5A
P 9400 6050
F 0 "R?" H 9470 6096 50  0000 L CNN
F 1 "10K" H 9470 6005 50  0000 L CNN
F 2 "" V 9330 6050 50  0001 C CNN
F 3 "" H 9400 6050 50  0001 C CNN
	1    9400 6050
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:R R?
U 1 1 5C71FDAA
P 9700 5850
F 0 "R?" V 9800 5800 50  0000 L CNN
F 1 "110K" V 9600 5750 50  0000 L CNN
F 2 "" V 9630 5850 50  0001 C CNN
F 3 "" H 9700 5850 50  0001 C CNN
	1    9700 5850
	0    1    1    0   
$EndComp
Text HLabel 10100 5850 2    50   Input ~ 0
VBatt
Text Label 7550 2000 2    50   ~ 0
PWM_Idle_L
Text Label 7550 1900 2    50   ~ 0
PWM_Idle_H
Text HLabel 9750 950  2    50   Input ~ 0
PWM_Idle_H
Text HLabel 9750 1050 2    50   Input ~ 0
PWM_Idle_L
Wire Wire Line
	7550 1900 7050 1900
Wire Wire Line
	7550 2000 7050 2000
Text Label 9250 1050 0    50   ~ 0
PWM_Idle_L
Text Label 9250 950  0    50   ~ 0
PWM_Idle_H
Wire Wire Line
	9250 950  9750 950 
Wire Wire Line
	9250 1050 9750 1050
Text Label 7600 4500 2    50   ~ 0
Batt_Current
Wire Wire Line
	7600 4500 7050 4500
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C8B4358
P 5800 5950
F 0 "#PWR?" H 5800 5700 50  0001 C CNN
F 1 "GNDD" H 5804 5795 50  0000 C CNN
F 2 "" H 5800 5950 50  0001 C CNN
F 3 "" H 5800 5950 50  0001 C CNN
	1    5800 5950
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5C8F51EE
P 9000 2950
F 0 "C?" H 9115 2996 50  0000 L CNN
F 1 "100n" H 9115 2905 50  0000 L CNN
F 2 "" H 9038 2800 50  0001 C CNN
F 3 "" H 9000 2950 50  0001 C CNN
	1    9000 2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	7050 3600 7450 3600
Wire Wire Line
	9400 5850 9400 5900
Wire Wire Line
	8300 5850 8750 5850
$Comp
L MotorControllerParts:R R?
U 1 1 5C949802
P 9350 2750
F 0 "R?" V 9450 2700 50  0000 L CNN
F 1 "100R" V 9250 2650 50  0000 L CNN
F 2 "" V 9280 2750 50  0001 C CNN
F 3 "" H 9350 2750 50  0001 C CNN
	1    9350 2750
	0    1    1    0   
$EndComp
Wire Wire Line
	9200 2750 9000 2750
Wire Wire Line
	9000 2750 9000 2800
Text Label 8250 2750 0    50   ~ 0
A_Current
Wire Wire Line
	8250 2750 8700 2750
Connection ~ 9000 2750
Wire Wire Line
	9650 2750 9500 2750
Wire Wire Line
	9650 3600 9500 3600
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C98D20B
P 8850 3300
F 0 "#PWR?" H 8850 3050 50  0001 C CNN
F 1 "GNDD" H 8854 3145 50  0000 C CNN
F 2 "" H 8850 3300 50  0001 C CNN
F 3 "" H 8850 3300 50  0001 C CNN
	1    8850 3300
	1    0    0    -1  
$EndComp
Wire Wire Line
	9000 3250 9000 3100
Wire Wire Line
	9550 5850 9400 5850
Connection ~ 9400 5850
Wire Wire Line
	10100 5850 9850 5850
$Comp
L MotorControllerParts:C C?
U 1 1 5C9D9FC5
P 9050 6050
F 0 "C?" H 9100 6150 50  0000 L CNN
F 1 "10n" H 9100 5950 50  0000 L CNN
F 2 "" H 9088 5900 50  0001 C CNN
F 3 "" H 9050 6050 50  0001 C CNN
	1    9050 6050
	1    0    0    -1  
$EndComp
Connection ~ 9050 5850
Wire Wire Line
	9050 5850 9050 5900
Wire Wire Line
	9050 5850 9400 5850
Wire Wire Line
	9050 6200 9050 6350
Text Label 7450 3600 2    50   ~ 0
Batt_V
Wire Wire Line
	9850 4950 9700 4950
Text Label 8300 4950 0    50   ~ 0
Batt_Current
Text Label 8300 5850 0    50   ~ 0
Batt_V
Text HLabel 9850 4950 2    50   Input ~ 0
Batt_Current
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5CAF12F9
P 3600 1850
F 0 "#PWR?" H 3600 1600 50  0001 C CNN
F 1 "GNDD" H 3604 1695 50  0000 C CNN
F 2 "" H 3600 1850 50  0001 C CNN
F 3 "" H 3600 1850 50  0001 C CNN
	1    3600 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3600 1850 3600 1750
Wire Wire Line
	3600 1750 4250 1750
Text Label 3800 4700 0    50   ~ 0
ENC_A
Text Label 3800 4800 0    50   ~ 0
ENC_B
Text Label 3800 4900 0    50   ~ 0
ENC_N
Wire Wire Line
	3800 4900 4250 4900
Wire Wire Line
	3800 4800 4250 4800
Wire Wire Line
	3800 4700 4250 4700
Text Label 3950 2050 0    50   ~ 0
Status
Wire Wire Line
	3950 2050 4250 2050
Text Label 3950 1950 0    50   ~ 0
En_Out
Wire Wire Line
	3950 1950 4250 1950
$Comp
L MotorControllerParts:R R?
U 1 1 5CBDC0FE
P 3600 1200
F 0 "R?" H 3670 1246 50  0000 L CNN
F 1 "10K" H 3670 1155 50  0000 L CNN
F 2 "" V 3530 1200 50  0001 C CNN
F 3 "" H 3600 1200 50  0001 C CNN
	1    3600 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3600 1350 3600 1550
Wire Wire Line
	3600 1550 4250 1550
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5CBE66D9
P 3600 950
F 0 "#PWR?" H 3600 800 50  0001 C CNN
F 1 "+3.3V" H 3615 1123 50  0000 C CNN
F 2 "" H 3600 950 50  0001 C CNN
F 3 "" H 3600 950 50  0001 C CNN
	1    3600 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3600 1050 3600 950 
Text Label 3950 1850 0    50   ~ 0
En_In
Wire Wire Line
	3950 1850 4250 1850
Text Label 7450 2900 2    50   ~ 0
PWM_DH
Text Label 7450 3000 2    50   ~ 0
PWM_DL
Wire Wire Line
	7050 2900 7450 2900
Wire Wire Line
	7050 3000 7450 3000
Text HLabel 9750 1850 2    50   Output ~ 0
PWM_Phase_DH
Text HLabel 9750 1950 2    50   Output ~ 0
PWM_Phase_DL
Text Label 9350 1850 0    50   ~ 0
PWM_DH
Text Label 9350 1950 0    50   ~ 0
PWM_DL
Wire Wire Line
	9350 1950 9750 1950
Wire Wire Line
	9350 1850 9750 1850
Text Notes 8750 2450 0    50   ~ 0
Phase current low pass filters\n RC constant set for 15KHz
Wire Notes Line
	8150 2250 8150 4400
Wire Notes Line
	8150 4400 10450 4400
Wire Notes Line
	10450 4400 10450 2250
Wire Notes Line
	10450 2250 8150 2250
Text Notes 8650 4750 0    50   ~ 0
Battery Voltage and Current\nCurrent RC filter set for 1.59KHz\nVoltage RC filter set for 1.59KHz
Wire Notes Line
	8150 4500 10450 4500
Wire Notes Line
	10450 4500 10450 6650
Wire Notes Line
	10450 6650 8150 6650
Wire Notes Line
	8150 6650 8150 4500
Text Label 7450 2200 2    50   ~ 0
Brake
Wire Wire Line
	7450 2200 7050 2200
Text HLabel 9750 2050 2    50   Output ~ 0
Brake_Chopper
Text Label 9350 2050 0    50   ~ 0
Brake
Wire Wire Line
	9350 2050 9750 2050
Text Label 9300 750  0    50   ~ 0
En_Out
Text HLabel 9750 750  2    50   Output ~ 0
En_Out
Wire Wire Line
	9300 750  9750 750 
Text HLabel 950  750  0    50   Input ~ 0
En_In
Text Label 1450 750  2    50   ~ 0
En_In
Wire Wire Line
	950  750  1450 750 
Text HLabel 950  850  0    50   Output ~ 0
Status
Text Label 1450 850  2    50   ~ 0
Status
Wire Wire Line
	950  850  1450 850 
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D351798
P 7250 3800
F 0 "TP?" V 7250 3988 50  0000 L CNN
F 1 "TestPoint" V 7295 3988 50  0001 L CNN
F 2 "" H 7450 3800 50  0001 C CNN
F 3 "~" H 7450 3800 50  0001 C CNN
	1    7250 3800
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D3633CF
P 7250 3900
F 0 "TP?" V 7250 4088 50  0000 L CNN
F 1 "TestPoint" V 7295 4088 50  0001 L CNN
F 2 "" H 7450 3900 50  0001 C CNN
F 3 "~" H 7450 3900 50  0001 C CNN
	1    7250 3900
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D363425
P 7250 4000
F 0 "TP?" V 7250 4188 50  0000 L CNN
F 1 "TestPoint" V 7295 4188 50  0001 L CNN
F 2 "" H 7450 4000 50  0001 C CNN
F 3 "~" H 7450 4000 50  0001 C CNN
	1    7250 4000
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D363479
P 7250 4100
F 0 "TP?" V 7250 4288 50  0000 L CNN
F 1 "TestPoint" V 7295 4288 50  0001 L CNN
F 2 "" H 7450 4100 50  0001 C CNN
F 3 "~" H 7450 4100 50  0001 C CNN
	1    7250 4100
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D36357E
P 7250 4200
F 0 "TP?" V 7250 4388 50  0000 L CNN
F 1 "TestPoint" V 7295 4388 50  0001 L CNN
F 2 "" H 7450 4200 50  0001 C CNN
F 3 "~" H 7450 4200 50  0001 C CNN
	1    7250 4200
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D3635D6
P 7250 4300
F 0 "TP?" V 7250 4488 50  0000 L CNN
F 1 "TestPoint" V 7295 4488 50  0001 L CNN
F 2 "" H 7450 4300 50  0001 C CNN
F 3 "~" H 7450 4300 50  0001 C CNN
	1    7250 4300
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D3639DA
P 7250 4600
F 0 "TP?" V 7250 4788 50  0000 L CNN
F 1 "TestPoint" V 7295 4788 50  0001 L CNN
F 2 "" H 7450 4600 50  0001 C CNN
F 3 "~" H 7450 4600 50  0001 C CNN
	1    7250 4600
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D363A64
P 7250 4700
F 0 "TP?" V 7250 4888 50  0000 L CNN
F 1 "TestPoint" V 7295 4888 50  0001 L CNN
F 2 "" H 7450 4700 50  0001 C CNN
F 3 "~" H 7450 4700 50  0001 C CNN
	1    7250 4700
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D363AC6
P 7250 4800
F 0 "TP?" V 7250 4988 50  0000 L CNN
F 1 "TestPoint" V 7295 4988 50  0001 L CNN
F 2 "" H 7450 4800 50  0001 C CNN
F 3 "~" H 7450 4800 50  0001 C CNN
	1    7250 4800
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D363B26
P 7250 4900
F 0 "TP?" V 7250 5088 50  0000 L CNN
F 1 "TestPoint" V 7295 5088 50  0001 L CNN
F 2 "" H 7450 4900 50  0001 C CNN
F 3 "~" H 7450 4900 50  0001 C CNN
	1    7250 4900
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:TMC4671 U?
U 1 1 5C00C3E2
P 5650 3450
F 0 "U?" H 5650 3500 50  0000 C CNN
F 1 "TMC4671" H 5650 3600 50  0000 C CNN
F 2 "" H 5650 3450 50  0001 C CNN
F 3 "" H 5650 3450 50  0001 C CNN
	1    5650 3450
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 3800 7050 3800
Wire Wire Line
	7050 3900 7250 3900
Wire Wire Line
	7050 4000 7250 4000
Wire Wire Line
	7250 4100 7050 4100
Wire Wire Line
	7050 4200 7250 4200
Wire Wire Line
	7050 4300 7250 4300
Wire Wire Line
	7050 4600 7250 4600
Wire Wire Line
	7050 4700 7250 4700
Wire Wire Line
	7050 4800 7250 4800
Wire Wire Line
	7050 4900 7250 4900
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5D3EBED6
P 3950 2450
F 0 "TP?" V 3950 2750 50  0000 C CNN
F 1 "TestPoint" V 3995 2638 50  0001 L CNN
F 2 "" H 4150 2450 50  0001 C CNN
F 3 "~" H 4150 2450 50  0001 C CNN
	1    3950 2450
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3950 2450 4250 2450
$Comp
L MotorControllerParts:TestPoint_2Pole TP?
U 1 1 5D40D752
P 8700 3000
F 0 "TP?" H 8650 2800 50  0000 L CNN
F 1 "A_I_TP" H 8600 2900 50  0000 L CNN
F 2 "" H 8700 3000 50  0001 C CNN
F 3 "~" H 8700 3000 50  0001 C CNN
	1    8700 3000
	0    1    -1   0   
$EndComp
Wire Wire Line
	8700 2800 8700 2750
Connection ~ 8700 2750
Wire Wire Line
	8700 2750 9000 2750
Wire Wire Line
	8700 3200 8700 3250
Wire Wire Line
	8700 3250 8850 3250
Wire Wire Line
	8850 3300 8850 3250
Connection ~ 8850 3250
Wire Wire Line
	8850 3250 9000 3250
$Comp
L MotorControllerParts:C C?
U 1 1 5D53326D
P 9000 3800
F 0 "C?" H 9115 3846 50  0000 L CNN
F 1 "100n" H 9115 3755 50  0000 L CNN
F 2 "" H 9038 3650 50  0001 C CNN
F 3 "" H 9000 3800 50  0001 C CNN
	1    9000 3800
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:R R?
U 1 1 5D533274
P 9350 3600
F 0 "R?" V 9450 3550 50  0000 L CNN
F 1 "100R" V 9250 3500 50  0000 L CNN
F 2 "" V 9280 3600 50  0001 C CNN
F 3 "" H 9350 3600 50  0001 C CNN
	1    9350 3600
	0    1    1    0   
$EndComp
Wire Wire Line
	9200 3600 9000 3600
Wire Wire Line
	9000 3600 9000 3650
Wire Wire Line
	8250 3600 8700 3600
Connection ~ 9000 3600
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5D533280
P 8850 4150
F 0 "#PWR?" H 8850 3900 50  0001 C CNN
F 1 "GNDD" H 8854 3995 50  0000 C CNN
F 2 "" H 8850 4150 50  0001 C CNN
F 3 "" H 8850 4150 50  0001 C CNN
	1    8850 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	9000 4100 9000 3950
$Comp
L MotorControllerParts:TestPoint_2Pole TP?
U 1 1 5D533287
P 8700 3850
F 0 "TP?" H 8650 3650 50  0000 L CNN
F 1 "B_I_TP" H 8600 3750 50  0000 L CNN
F 2 "" H 8700 3850 50  0001 C CNN
F 3 "~" H 8700 3850 50  0001 C CNN
	1    8700 3850
	0    1    -1   0   
$EndComp
Wire Wire Line
	8700 3650 8700 3600
Connection ~ 8700 3600
Wire Wire Line
	8700 3600 9000 3600
Wire Wire Line
	8700 4050 8700 4100
Wire Wire Line
	8700 4100 8850 4100
Wire Wire Line
	8850 4150 8850 4100
Connection ~ 8850 4100
Wire Wire Line
	8850 4100 9000 4100
$Comp
L MotorControllerParts:C C?
U 1 1 5D56D895
P 9200 5150
F 0 "C?" H 9315 5196 50  0000 L CNN
F 1 "100n" H 9315 5105 50  0000 L CNN
F 2 "" H 9238 5000 50  0001 C CNN
F 3 "" H 9200 5150 50  0001 C CNN
	1    9200 5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	9400 4950 9200 4950
Wire Wire Line
	9200 4950 9200 5000
Wire Wire Line
	8300 4950 8900 4950
Connection ~ 9200 4950
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5D56D8A8
P 9050 5500
F 0 "#PWR?" H 9050 5250 50  0001 C CNN
F 1 "GNDD" H 9054 5345 50  0000 C CNN
F 2 "" H 9050 5500 50  0001 C CNN
F 3 "" H 9050 5500 50  0001 C CNN
	1    9050 5500
	1    0    0    -1  
$EndComp
Wire Wire Line
	9200 5450 9200 5300
$Comp
L MotorControllerParts:TestPoint_2Pole TP?
U 1 1 5D56D8AF
P 8900 5200
F 0 "TP?" H 8850 5000 50  0000 L CNN
F 1 "Batt_I_TP" H 8700 5100 50  0000 L CNN
F 2 "" H 8900 5200 50  0001 C CNN
F 3 "~" H 8900 5200 50  0001 C CNN
	1    8900 5200
	0    1    -1   0   
$EndComp
Wire Wire Line
	8900 5000 8900 4950
Connection ~ 8900 4950
Wire Wire Line
	8900 4950 9200 4950
Wire Wire Line
	8900 5400 8900 5450
Wire Wire Line
	8900 5450 9050 5450
Wire Wire Line
	9050 5500 9050 5450
Connection ~ 9050 5450
Wire Wire Line
	9050 5450 9200 5450
$Comp
L MotorControllerParts:R R?
U 1 1 5CA92A2E
P 9550 4950
F 0 "R?" V 9650 4900 50  0000 L CNN
F 1 "10K" V 9450 4850 50  0000 L CNN
F 2 "" V 9480 4950 50  0001 C CNN
F 3 "" H 9550 4950 50  0001 C CNN
	1    9550 4950
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5D642F2F
P 9050 6400
F 0 "#PWR?" H 9050 6150 50  0001 C CNN
F 1 "GNDD" H 9054 6245 50  0000 C CNN
F 2 "" H 9050 6400 50  0001 C CNN
F 3 "" H 9050 6400 50  0001 C CNN
	1    9050 6400
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:TestPoint_2Pole TP?
U 1 1 5D642F35
P 8750 6100
F 0 "TP?" H 8700 5900 50  0000 L CNN
F 1 "Batt_V_TP" H 8550 6000 50  0000 L CNN
F 2 "" H 8750 6100 50  0001 C CNN
F 3 "~" H 8750 6100 50  0001 C CNN
	1    8750 6100
	0    1    -1   0   
$EndComp
Wire Wire Line
	8750 5900 8750 5850
Wire Wire Line
	8750 6300 8750 6350
Wire Wire Line
	8750 6350 9050 6350
Wire Wire Line
	9050 6400 9050 6350
Connection ~ 9050 6350
Connection ~ 8750 5850
Wire Wire Line
	8750 5850 9050 5850
Wire Wire Line
	9400 6350 9050 6350
Wire Wire Line
	9400 6200 9400 6350
$Comp
L MotorControllerParts:Trinamic_TRMI J?
U 1 1 5D7CF4D7
P 1450 6050
F 0 "J?" H 1500 6467 50  0000 C CNN
F 1 "Trinamic_TRMI" H 1500 6376 50  0000 C CNN
F 2 "" H 1450 6050 50  0001 C CNN
F 3 "~" H 1450 6050 50  0001 C CNN
	1    1450 6050
	1    0    0    -1  
$EndComp
Text Label 3800 4000 0    50   ~ 0
RTMI_MOSI
Text Label 3800 4100 0    50   ~ 0
RTMI_MISO
Text Label 3800 4200 0    50   ~ 0
RTMI_TRG
Text Label 3800 3900 0    50   ~ 0
RTMI_SCK
Text Label 3800 3800 0    50   ~ 0
RTMI_CS
Wire Wire Line
	3800 3800 4250 3800
Wire Wire Line
	3800 3900 4250 3900
Wire Wire Line
	3800 4000 4250 4000
Wire Wire Line
	3800 4100 4250 4100
Wire Wire Line
	3800 4200 4250 4200
Text Label 800  6150 0    50   ~ 0
RTMI_MOSI
Text Label 800  6250 0    50   ~ 0
RTMI_MISO
Text Label 2150 5950 2    50   ~ 0
RTMI_TRG
Text Label 800  6050 0    50   ~ 0
RTMI_SCK
Text Label 800  5950 0    50   ~ 0
RTMI_CS
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5D8824B0
P 1850 6350
F 0 "#PWR?" H 1850 6100 50  0001 C CNN
F 1 "GNDD" H 1854 6195 50  0000 C CNN
F 2 "" H 1850 6350 50  0001 C CNN
F 3 "" H 1850 6350 50  0001 C CNN
	1    1850 6350
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 6050 1750 6050
Wire Wire Line
	1750 6150 1850 6150
Connection ~ 1850 6150
Wire Wire Line
	1850 6150 1850 6050
Wire Wire Line
	1750 6250 1850 6250
Wire Wire Line
	1850 6150 1850 6250
Connection ~ 1850 6250
Wire Wire Line
	1850 6250 1850 6350
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5D8B4D82
P 1100 5650
F 0 "#PWR?" H 1100 5500 50  0001 C CNN
F 1 "+3.3V" H 1115 5823 50  0000 C CNN
F 2 "" H 1100 5650 50  0001 C CNN
F 3 "" H 1100 5650 50  0001 C CNN
	1    1100 5650
	1    0    0    -1  
$EndComp
Wire Wire Line
	1100 5650 1100 5850
Wire Wire Line
	1100 5850 1250 5850
Wire Wire Line
	2150 5950 1750 5950
Wire Wire Line
	800  5950 1250 5950
Wire Wire Line
	800  6050 1250 6050
Wire Wire Line
	800  6150 1250 6150
Wire Wire Line
	800  6250 1250 6250
Text HLabel 1000 1950 0    50   Input ~ 0
ENC_A
Text HLabel 1000 2050 0    50   Input ~ 0
ENC_B
Text HLabel 1000 2150 0    50   Input ~ 0
ENC_N
Text Label 1450 1950 2    50   ~ 0
ENC_A
Text Label 1450 2050 2    50   ~ 0
ENC_B
Text Label 1450 2150 2    50   ~ 0
ENC_N
Wire Wire Line
	1450 2150 1000 2150
Wire Wire Line
	1450 2050 1000 2050
Wire Wire Line
	1450 1950 1000 1950
$Comp
L MotorControllerParts:C C?
U 1 1 5C44BA2A
P 1250 4700
F 0 "C?" H 1300 4800 50  0000 L CNN
F 1 "100n" H 1300 4600 50  0000 L CNN
F 2 "" H 1288 4550 50  0001 C CNN
F 3 "" H 1250 4700 50  0001 C CNN
	1    1250 4700
	-1   0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C44BB6C
P 1450 5000
F 0 "#PWR?" H 1450 4750 50  0001 C CNN
F 1 "GNDD" H 1454 4845 50  0000 C CNN
F 2 "" H 1450 5000 50  0001 C CNN
F 3 "" H 1450 5000 50  0001 C CNN
	1    1450 5000
	-1   0    0    -1  
$EndComp
Text Label 3000 4250 2    50   ~ 0
A_Current_Ref
Text Label 3000 4400 2    50   ~ 0
B_Current_Ref
Text Label 7600 3300 2    50   ~ 0
A_Current_Ref
Wire Wire Line
	7600 3300 7050 3300
Text Label 7600 3500 2    50   ~ 0
B_Current_Ref
Wire Wire Line
	7600 3500 7050 3500
$Comp
L MotorControllerParts:C C?
U 1 1 5C5FECF1
P 2000 4700
F 0 "C?" H 2050 4800 50  0000 L CNN
F 1 "100n" H 2050 4600 50  0000 L CNN
F 2 "" H 2038 4550 50  0001 C CNN
F 3 "" H 2000 4700 50  0001 C CNN
	1    2000 4700
	-1   0    0    -1  
$EndComp
Wire Wire Line
	2000 4900 2000 4850
Wire Wire Line
	1650 4850 1650 4950
Wire Wire Line
	1650 4950 1450 4950
Wire Wire Line
	1250 4950 1250 4850
Wire Wire Line
	1450 5000 1450 4950
Connection ~ 1450 4950
Wire Wire Line
	1450 4950 1250 4950
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5C7B25A3
P 1650 3800
F 0 "#PWR?" H 1650 3650 50  0001 C CNN
F 1 "+5V" H 1665 3973 50  0000 C CNN
F 2 "" H 1650 3800 50  0001 C CNN
F 3 "" H 1650 3800 50  0001 C CNN
	1    1650 3800
	-1   0    0    -1  
$EndComp
Text Notes 1000 3500 0    50   ~ 0
Voltage references for the current measurement ADC's
Wire Notes Line
	3400 3400 700  3400
Wire Notes Line
	700  3400 700  5250
Wire Notes Line
	700  5250 3400 5250
Wire Notes Line
	3400 5250 3400 3400
Text Notes 1600 5450 0    50   ~ 0
TMC4671 Debug interfaces
Wire Notes Line
	700  5350 3400 5350
Wire Notes Line
	3400 5350 3400 6600
Wire Notes Line
	3400 6600 700  6600
Wire Notes Line
	700  6600 700  5350
Text Notes 2800 6800 0    50   ~ 0
Decoupling capacitors
Wire Notes Line
	700  6700 5500 6700
Wire Notes Line
	5500 6700 5500 7850
Wire Notes Line
	5500 7850 700  7850
Wire Notes Line
	700  7850 700  6700
Text Notes 2150 2000 0    50   ~ 0
TMC4671 Clock Chip
Wire Notes Line
	1650 1900 3400 1900
Wire Notes Line
	3400 1900 3400 3300
Wire Notes Line
	3400 3300 1650 3300
Wire Notes Line
	1650 3300 1650 1900
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5CAF93B2
P 3950 2350
F 0 "TP?" V 3950 2650 50  0000 C CNN
F 1 "TestPoint" V 3995 2538 50  0001 L CNN
F 2 "" H 4150 2350 50  0001 C CNN
F 3 "~" H 4150 2350 50  0001 C CNN
	1    3950 2350
	0    -1   -1   0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5CAF9426
P 3950 2250
F 0 "TP?" V 3950 2550 50  0000 C CNN
F 1 "TestPoint" V 3995 2438 50  0001 L CNN
F 2 "" H 4150 2250 50  0001 C CNN
F 3 "~" H 4150 2250 50  0001 C CNN
	1    3950 2250
	0    -1   -1   0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5CAF949C
P 3950 2600
F 0 "TP?" V 3950 2900 50  0000 C CNN
F 1 "TestPoint" V 3995 2788 50  0001 L CNN
F 2 "" H 4150 2600 50  0001 C CNN
F 3 "~" H 4150 2600 50  0001 C CNN
	1    3950 2600
	0    -1   -1   0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5CAF9522
P 3950 2700
F 0 "TP?" V 3950 3000 50  0000 C CNN
F 1 "TestPoint" V 3995 2888 50  0001 L CNN
F 2 "" H 4150 2700 50  0001 C CNN
F 3 "~" H 4150 2700 50  0001 C CNN
	1    3950 2700
	0    -1   -1   0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5CAF959C
P 3950 2800
F 0 "TP?" V 3950 3100 50  0000 C CNN
F 1 "TestPoint" V 3995 2988 50  0001 L CNN
F 2 "" H 4150 2800 50  0001 C CNN
F 3 "~" H 4150 2800 50  0001 C CNN
	1    3950 2800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3950 2250 4250 2250
Wire Wire Line
	3950 2350 4250 2350
Wire Wire Line
	3950 2600 4250 2600
Wire Wire Line
	3950 2700 4250 2700
Wire Wire Line
	3950 2800 4250 2800
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5CC10EEE
P 1250 4150
F 0 "TP?" V 1250 4450 50  0000 C CNN
F 1 "B_Ref" V 1150 4250 50  0000 L CNN
F 2 "" H 1450 4150 50  0001 C CNN
F 3 "~" H 1450 4150 50  0001 C CNN
	1    1250 4150
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5CC395A7
P 2000 4150
F 0 "TP?" V 2000 4450 50  0000 C CNN
F 1 "A_Ref" V 1900 4250 50  0000 L CNN
F 2 "" H 2200 4150 50  0001 C CNN
F 3 "~" H 2200 4150 50  0001 C CNN
	1    2000 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2000 4150 2000 4400
Wire Wire Line
	1250 4150 1250 4250
Wire Wire Line
	1650 4150 1650 4250
Wire Wire Line
	1250 4250 1650 4250
Connection ~ 1250 4250
Wire Wire Line
	1250 4250 1250 4550
Connection ~ 1650 4250
Wire Wire Line
	1650 4250 1650 4550
Wire Wire Line
	2400 4150 2400 4400
Wire Wire Line
	3000 4250 1650 4250
Wire Wire Line
	3000 4400 2400 4400
Connection ~ 2400 4400
Wire Wire Line
	2400 4400 2400 4550
Wire Wire Line
	2000 4400 2400 4400
Connection ~ 2000 4400
Wire Wire Line
	2000 4400 2000 4550
$EndSCHEMATC
