EESchema Schematic File Version 4
LIBS:motor-controller-hw-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 7
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 5300 2600 1400 3300
U 5BAADA76
F0 "Signal Processing" 50
F1 "signal-processing.sch" 50
F2 "5.0v" I L 5300 2700 50 
F3 "USB_D+" B L 5300 3600 50 
F4 "USB_D-" B L 5300 3700 50 
F5 "CAN_H" B L 5300 3900 50 
F6 "CAN_L" B L 5300 4000 50 
F7 "Throttle" I L 5300 4200 50 
F8 "BatVoltage" I L 5300 3000 50 
F9 "BatCurrent" I L 5300 3100 50 
F10 "MotorTemp" I L 5300 4300 50 
F11 "TransistorTemp" I L 5300 4400 50 
F12 "A_In1" I L 5300 4600 50 
F13 "A_in2" I L 5300 4700 50 
F14 "D_In1" I L 5300 4800 50 
F15 "D_In2" I L 5300 4900 50 
F16 "D_In3" I L 5300 5000 50 
F17 "D_In4" I L 5300 5100 50 
F18 "A_Out1" O L 5300 5300 50 
F19 "A_Out2" O L 5300 5400 50 
F20 "D_Out1" O L 5300 5500 50 
F21 "D_Out2" O L 5300 5600 50 
F22 "PWM_Phase_AH" O R 6700 3000 50 
F23 "PWM_Phase_BH" O R 6700 3200 50 
F24 "PWM_Phase_AL" O R 6700 3100 50 
F25 "PWM_Phase_BL" O R 6700 3300 50 
F26 "PWM_Phase_CH" O R 6700 3400 50 
F27 "PWM_Phase_CL" O R 6700 3500 50 
F28 "Phase_A_Current" I R 6700 3700 50 
F29 "Phase_B_Current" I R 6700 3800 50 
F30 "Phase_C_Current" I R 6700 3900 50 
F31 "3.6v" I L 5300 2800 50 
F32 "Phase_A_HAL" I R 6700 4100 50 
F33 "Phase_B_HAL" I R 6700 4200 50 
F34 "Phase_C_HAL" I R 6700 4300 50 
F35 "D_GND" U L 5300 5800 50 
F36 "TMC4671_RX" I L 5300 3400 50 
F37 "TMC4671_TX" O L 5300 3300 50 
$EndSheet
$Sheet
S 1950 800  1050 1400
U 5BAADA7C
F0 "Power Supply" 50
F1 "power-supply.sch" 50
F2 "3.6v" O R 3000 1100 50 
F3 "5.0v" O R 3000 1000 50 
F4 "vBat" O R 3000 900 50 
F5 "BatVoltage" I R 3000 1350 50 
F6 "BatCurrent" I R 3000 1450 50 
F7 "D_GND" U R 3000 2000 50 
F8 "P_GND" U R 3000 2100 50 
$EndSheet
$Sheet
S 1950 3200 1050 2500
U 5BB2528B
F0 "Inputs/Outputs" 50
F1 "IO.sch" 50
F2 "USB_D+" B R 3000 3600 50 
F3 "USB_D-" B R 3000 3700 50 
F4 "CAN_H" B R 3000 3900 50 
F5 "CAN_L" B R 3000 4000 50 
F6 "Throttle" O R 3000 4200 50 
F7 "MotorTemp" O R 3000 4300 50 
F8 "TransistorTemp" O R 3000 4400 50 
F9 "A_In1" O R 3000 4600 50 
F10 "A_In2" O R 3000 4700 50 
F11 "D_In1" O R 3000 4800 50 
F12 "D_In2" O R 3000 4900 50 
F13 "D_In3" O R 3000 5000 50 
F14 "D_In4" O R 3000 5100 50 
F15 "A_Out1" I R 3000 5300 50 
F16 "A_Out2" I R 3000 5400 50 
F17 "D_Out1" I R 3000 5500 50 
F18 "D_Out2" I R 3000 5600 50 
F19 "D_GND" U L 1950 5600 50 
F20 "3.6v" I L 1950 3400 50 
F21 "5.0v" I L 1950 3300 50 
F22 "TMC4671_RX" I R 3000 3400 50 
F23 "TMC4671_TX" O R 3000 3300 50 
$EndSheet
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BB25937
P 3450 2200
F 0 "#PWR?" H 3450 1950 50  0001 C CNN
F 1 "GNDD" H 3454 2045 50  0000 C CNN
F 2 "" H 3450 2200 50  0001 C CNN
F 3 "" H 3450 2200 50  0001 C CNN
	1    3450 2200
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDPWR #PWR?
U 1 1 5BB25975
P 3150 2200
F 0 "#PWR?" H 3150 2000 50  0001 C CNN
F 1 "GNDPWR" H 3154 2046 50  0000 C CNN
F 2 "" H 3150 2150 50  0001 C CNN
F 3 "" H 3150 2150 50  0001 C CNN
	1    3150 2200
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDPWR #PWR?
U 1 1 5BB25C82
P 7600 4800
F 0 "#PWR?" H 7600 4600 50  0001 C CNN
F 1 "GNDPWR" H 7604 4646 50  0000 C CNN
F 2 "" H 7600 4750 50  0001 C CNN
F 3 "" H 7600 4750 50  0001 C CNN
	1    7600 4800
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BB25C8D
P 5150 5900
F 0 "#PWR?" H 5150 5650 50  0001 C CNN
F 1 "GNDD" H 5150 5750 50  0000 C CNN
F 2 "" H 5150 5900 50  0001 C CNN
F 3 "" H 5150 5900 50  0001 C CNN
	1    5150 5900
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BB25CB6
P 7300 4800
F 0 "#PWR?" H 7300 4550 50  0001 C CNN
F 1 "GNDD" H 7304 4645 50  0000 C CNN
F 2 "" H 7300 4800 50  0001 C CNN
F 3 "" H 7300 4800 50  0001 C CNN
	1    7300 4800
	1    0    0    -1  
$EndComp
$Sheet
S 7700 2750 1350 1950
U 5BAADA79
F0 "Power Conversion" 50
F1 "power-conversion.sch" 50
F2 "PWM_Phase_AH" I L 7700 3000 50 
F3 "PWM_Phase_AL" I L 7700 3100 50 
F4 "PWM_Phase_BH" I L 7700 3200 50 
F5 "PWM_Phase_BL" I L 7700 3300 50 
F6 "PWM_Phase_CH" I L 7700 3400 50 
F7 "PWM_Phase_CL" I L 7700 3500 50 
F8 "Phase_A_Current" O L 7700 3700 50 
F9 "Phase_B_Current" O L 7700 3800 50 
F10 "Phase_C_Current" O L 7700 3900 50 
F11 "Phase_A_HALFX" O L 7700 4100 50 
F12 "Phase_B_HALFX" O L 7700 4200 50 
F13 "Phase_C_HALFX" O L 7700 4300 50 
F14 "D_GND" U L 7700 4500 50 
F15 "P_GND" U L 7700 4600 50 
F16 "vBat" I L 7700 2850 50 
F17 "Phase_A" O R 9050 3550 50 
F18 "Phase_B" O R 9050 3650 50 
F19 "Phase_C" O R 9050 3750 50 
$EndSheet
Wire Wire Line
	6700 3000 7700 3000
Wire Wire Line
	6700 3100 7700 3100
Wire Wire Line
	6700 4100 7700 4100
Wire Wire Line
	6700 4200 7700 4200
Wire Wire Line
	6700 4300 7700 4300
Wire Wire Line
	5150 5900 5150 5800
Wire Wire Line
	5150 5800 5300 5800
Wire Wire Line
	6700 3200 7700 3200
Wire Wire Line
	6700 3300 7700 3300
Wire Wire Line
	6700 3400 7700 3400
Wire Wire Line
	6700 3500 7700 3500
Wire Wire Line
	3150 2200 3150 2100
Wire Wire Line
	3150 2100 3000 2100
Wire Wire Line
	3000 2000 3450 2000
Wire Wire Line
	3450 2000 3450 2200
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5BBCADD0
P 5150 2500
F 0 "#PWR?" H 5150 2350 50  0001 C CNN
F 1 "+5V" H 5165 2673 50  0000 C CNN
F 2 "" H 5150 2500 50  0001 C CNN
F 3 "" H 5150 2500 50  0001 C CNN
	1    5150 2500
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+BATT #PWR?
U 1 1 5BBCAF50
P 3150 750
F 0 "#PWR?" H 3150 600 50  0001 C CNN
F 1 "+BATT" H 3165 923 50  0000 C CNN
F 2 "" H 3150 750 50  0001 C CNN
F 3 "" H 3150 750 50  0001 C CNN
	1    3150 750 
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5BBCAF62
P 3400 750
F 0 "#PWR?" H 3400 600 50  0001 C CNN
F 1 "+5V" H 3415 923 50  0000 C CNN
F 2 "" H 3400 750 50  0001 C CNN
F 3 "" H 3400 750 50  0001 C CNN
	1    3400 750 
	1    0    0    -1  
$EndComp
Wire Wire Line
	5300 2700 5150 2700
Wire Wire Line
	5150 2700 5150 2500
$Comp
L MotorControllerParts:+BATT #PWR?
U 1 1 5BBCB3CF
P 7500 2650
F 0 "#PWR?" H 7500 2500 50  0001 C CNN
F 1 "+BATT" H 7515 2823 50  0000 C CNN
F 2 "" H 7500 2650 50  0001 C CNN
F 3 "" H 7500 2650 50  0001 C CNN
	1    7500 2650
	1    0    0    -1  
$EndComp
Wire Wire Line
	6700 3700 7700 3700
Wire Wire Line
	6700 3800 7700 3800
Wire Wire Line
	6700 3900 7700 3900
Wire Wire Line
	3000 5600 5300 5600
Wire Wire Line
	3000 5500 5300 5500
Wire Wire Line
	3000 5400 5300 5400
Wire Wire Line
	3000 5300 5300 5300
Wire Wire Line
	3000 5100 5300 5100
Wire Wire Line
	3000 5000 5300 5000
Wire Wire Line
	3000 4900 5300 4900
Wire Wire Line
	3000 4800 5300 4800
Wire Wire Line
	3000 4700 5300 4700
Wire Wire Line
	3000 4600 5300 4600
Wire Wire Line
	3000 4400 5300 4400
Wire Wire Line
	3000 4300 5300 4300
Wire Wire Line
	3000 4200 5300 4200
Wire Wire Line
	3000 4000 5300 4000
Wire Wire Line
	3000 3900 5300 3900
Wire Wire Line
	3000 3700 5300 3700
Wire Wire Line
	3000 3600 5300 3600
Wire Wire Line
	7600 4800 7600 4600
Wire Wire Line
	7600 4600 7700 4600
Wire Wire Line
	7700 4500 7300 4500
Wire Wire Line
	7300 4500 7300 4800
Wire Wire Line
	7500 2650 7500 2850
Wire Wire Line
	7500 2850 7700 2850
Wire Wire Line
	3000 3400 5300 3400
Wire Wire Line
	3000 3300 5300 3300
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BBE7244
P 1800 5700
F 0 "#PWR?" H 1800 5450 50  0001 C CNN
F 1 "GNDD" H 1800 5550 50  0000 C CNN
F 2 "" H 1800 5700 50  0001 C CNN
F 3 "" H 1800 5700 50  0001 C CNN
	1    1800 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 5700 1800 5600
Wire Wire Line
	1800 5600 1950 5600
$Comp
L power:+5V #PWR?
U 1 1 5BBE81EF
P 1800 3100
F 0 "#PWR?" H 1800 2950 50  0001 C CNN
F 1 "+5V" H 1815 3273 50  0000 C CNN
F 2 "" H 1800 3100 50  0001 C CNN
F 3 "" H 1800 3100 50  0001 C CNN
	1    1800 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 3300 1800 3300
Wire Wire Line
	1800 3300 1800 3100
Wire Wire Line
	3000 1350 4300 1350
Wire Wire Line
	4300 1350 4300 3000
Wire Wire Line
	4300 3000 5300 3000
Wire Wire Line
	5300 3100 4250 3100
Wire Wire Line
	4250 3100 4250 1450
Wire Wire Line
	4250 1450 3000 1450
Wire Wire Line
	3150 750  3150 900 
Wire Wire Line
	3150 900  3000 900 
Wire Wire Line
	3000 1000 3400 1000
Wire Wire Line
	3400 1000 3400 750 
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5BC0F2FB
P 3650 750
F 0 "#PWR?" H 3650 600 50  0001 C CNN
F 1 "+3.3V" H 3665 923 50  0000 C CNN
F 2 "" H 3650 750 50  0001 C CNN
F 3 "" H 3650 750 50  0001 C CNN
	1    3650 750 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3000 1100 3650 1100
Wire Wire Line
	3650 1100 3650 750 
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5BC10B66
P 4900 2500
F 0 "#PWR?" H 4900 2350 50  0001 C CNN
F 1 "+3.3V" H 4915 2673 50  0000 C CNN
F 2 "" H 4900 2500 50  0001 C CNN
F 3 "" H 4900 2500 50  0001 C CNN
	1    4900 2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4900 2500 4900 2800
Wire Wire Line
	4900 2800 5300 2800
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5BC124CB
P 1550 3100
F 0 "#PWR?" H 1550 2950 50  0001 C CNN
F 1 "+3.3V" H 1565 3273 50  0000 C CNN
F 2 "" H 1550 3100 50  0001 C CNN
F 3 "" H 1550 3100 50  0001 C CNN
	1    1550 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 3100 1550 3400
Wire Wire Line
	1550 3400 1950 3400
$EndSCHEMATC
