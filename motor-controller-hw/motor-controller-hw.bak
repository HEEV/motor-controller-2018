EESchema Schematic File Version 4
LIBS:motor-controller-hw-cache
EELAYER 26 0
EELAYER END
$Descr USLedger 17000 11000
encoding utf-8
Sheet 1 4
Title "Motor Controller Control Board"
Date "2018-11-17"
Rev "1.0"
Comp "Cedarville University"
Comment1 "Supermileage Motor Controller"
Comment2 "Senior Design 2018-2019"
Comment3 "Samuel Ellicott"
Comment4 ""
$EndDescr
$Comp
L MotorControllerParts:GNDPWR #PWR0114
U 1 1 5BB25C82
P 11150 3250
F 0 "#PWR0114" H 11150 3050 50  0001 C CNN
F 1 "GNDPWR" H 11154 3096 50  0000 C CNN
F 2 "" H 11150 3200 50  0001 C CNN
F 3 "" H 11150 3200 50  0001 C CNN
	1    11150 3250
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR0111
U 1 1 5BB25C8D
P 5650 3850
F 0 "#PWR0111" H 5650 3600 50  0001 C CNN
F 1 "GNDD" H 5650 3700 50  0000 C CNN
F 2 "" H 5650 3850 50  0001 C CNN
F 3 "" H 5650 3850 50  0001 C CNN
	1    5650 3850
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR0112
U 1 1 5BB25CB6
P 10850 3250
F 0 "#PWR0112" H 10850 3000 50  0001 C CNN
F 1 "GNDD" H 10854 3095 50  0000 C CNN
F 2 "" H 10850 3250 50  0001 C CNN
F 3 "" H 10850 3250 50  0001 C CNN
	1    10850 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5650 3850 5650 3600
Wire Wire Line
	5650 3600 5750 3600
$Comp
L MotorControllerParts:+BATT #PWR0113
U 1 1 5BBCB3CF
P 11050 1100
F 0 "#PWR0113" H 11050 950 50  0001 C CNN
F 1 "+BATT" H 11065 1273 50  0000 C CNN
F 2 "" H 11050 1100 50  0001 C CNN
F 3 "" H 11050 1100 50  0001 C CNN
	1    11050 1100
	1    0    0    -1  
$EndComp
Wire Wire Line
	11150 3250 11150 3050
Wire Wire Line
	11150 3050 11250 3050
Wire Wire Line
	11250 2950 10850 2950
Wire Wire Line
	10850 2950 10850 3250
Wire Wire Line
	11050 1100 11050 1300
Wire Wire Line
	11050 1300 11250 1300
$Comp
L MotorControllerParts:GNDD #PWR0103
U 1 1 5BBE7244
P 3300 4400
F 0 "#PWR0103" H 3300 4150 50  0001 C CNN
F 1 "GNDD" H 3300 4250 50  0000 C CNN
F 2 "" H 3300 4400 50  0001 C CNN
F 3 "" H 3300 4400 50  0001 C CNN
	1    3300 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3300 4400 3300 4300
Wire Wire Line
	3300 4300 3450 4300
$Comp
L power:+5V #PWR0102
U 1 1 5BBE81EF
P 3300 950
F 0 "#PWR0102" H 3300 800 50  0001 C CNN
F 1 "+5V" H 3315 1123 50  0000 C CNN
F 2 "" H 3300 950 50  0001 C CNN
F 3 "" H 3300 950 50  0001 C CNN
	1    3300 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 1150 3300 1150
Wire Wire Line
	3300 1150 3300 950 
$Comp
L MotorControllerParts:+3.3V #PWR0101
U 1 1 5BC124CB
P 3050 950
F 0 "#PWR0101" H 3050 800 50  0001 C CNN
F 1 "+3.3V" H 3065 1123 50  0000 C CNN
F 2 "" H 3050 950 50  0001 C CNN
F 3 "" H 3050 950 50  0001 C CNN
	1    3050 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3050 950  3050 1250
Wire Wire Line
	3050 1250 3450 1250
Text HLabel 11250 1450 2    50   Input ~ 0
PWM_Phase_AH
Text HLabel 11250 1550 2    50   Input ~ 0
PWM_Phase_AL
Text HLabel 11250 1650 2    50   Input ~ 0
PWM_Phase_BH
Text HLabel 11250 1750 2    50   Input ~ 0
PWM_Phase_BL
Text HLabel 11250 1850 2    50   Input ~ 0
PWM_Phase_CH
Text HLabel 11250 1950 2    50   Input ~ 0
PWM_Phase_CL
Text HLabel 11250 2150 2    50   Output ~ 0
Phase_A_Current
Text HLabel 11250 2250 2    50   Output ~ 0
Phase_B_Current
Text HLabel 11250 2350 2    50   Output ~ 0
Phase_C_Current
Text HLabel 11250 2550 2    50   Output ~ 0
Phase_A_HALFX
Text HLabel 11250 2650 2    50   Output ~ 0
Phase_B_HALFX
Text HLabel 11250 2750 2    50   Output ~ 0
Phase_C_HALFX
Text HLabel 11250 2950 2    50   UnSpc ~ 0
D_GND
Text HLabel 11250 3050 2    50   UnSpc ~ 0
P_GND
Text HLabel 11250 1300 2    50   Input ~ 0
vBat
$Sheet
S 5750 1400 1850 2300
U 5BE2BA0F
F0 "STM32" 50
F1 "microcontroller.sch" 50
F2 "3.3v" I L 5750 1500 50 
F3 "USB_D+" B L 5750 1650 50 
F4 "USB_D-" B L 5750 1750 50 
F5 "CAN_Rx" B L 5750 1900 50 
F6 "CAN_Tx" B L 5750 2000 50 
F7 "Throttle" I L 5750 2150 50 
F8 "MotorTemp" I L 5750 2250 50 
F9 "TransistorTemp" I L 5750 2350 50 
F10 "A_In1" I L 5750 2500 50 
F11 "A_In2" I L 5750 2600 50 
F12 "D_In1" I L 5750 2700 50 
F13 "D_In2" I L 5750 2800 50 
F14 "D_In3" I L 5750 2900 50 
F15 "D_In4" I L 5750 3000 50 
F16 "A_Out1" O L 5750 3150 50 
F17 "A_Out2" O L 5750 3250 50 
F18 "D_Out1" O L 5750 3350 50 
F19 "D_Out2" O L 5750 3450 50 
F20 "DGND" I L 5750 3600 50 
F21 "~TMC4671_SS" O R 7600 1700 50 
F22 "TMC4671_SCK" O R 7600 1800 50 
F23 "TMC4671_MISO" I R 7600 2000 50 
F24 "TMC4671_MOSI" O R 7600 1900 50 
$EndSheet
$Sheet
S 8050 1400 1600 2300
U 5BE2BA11
F0 "TMC4671" 50
F1 "TMC4671.sch" 50
F2 "PWM_Phase_AH" O R 9650 1500 50 
F3 "PWM_Phase_AL" O R 9650 1600 50 
F4 "PWM_Phase_BH" O R 9650 1700 50 
F5 "PWM_Phase_BL" O R 9650 1800 50 
F6 "PWM_Phase_CH" O R 9650 1900 50 
F7 "PWM_Phase_CL" O R 9650 2000 50 
F8 "~SPI_CS" I L 8050 1700 50 
F9 "SPI_SCK" I L 8050 1800 50 
F10 "SPI_MOSI" I L 8050 1900 50 
F11 "SPI_MISO" O L 8050 2000 50 
F12 "HALL_A" I L 8050 3350 50 
F13 "HALL_B" I L 8050 3450 50 
F14 "HALL_C" I L 8050 3550 50 
$EndSheet
$Sheet
S 3450 1050 1400 3350
U 5BB2528B
F0 "IO Protection" 50
F1 "IO.sch" 50
F2 "USB_D+" B R 4850 1650 50 
F3 "USB_D-" B R 4850 1750 50 
F4 "CAN_Rx" B R 4850 1900 50 
F5 "CAN_Tx" B R 4850 2000 50 
F6 "Throttle" O R 4850 2150 50 
F7 "MotorTemp" O R 4850 2250 50 
F8 "TransistorTemp" O R 4850 2350 50 
F9 "A_In1" O R 4850 2500 50 
F10 "A_In2" O R 4850 2600 50 
F11 "D_In1" O R 4850 2700 50 
F12 "D_In2" O R 4850 2800 50 
F13 "D_In3" O R 4850 2900 50 
F14 "D_In4" O R 4850 3000 50 
F15 "A_Out1" I R 4850 3150 50 
F16 "A_Out2" I R 4850 3250 50 
F17 "D_Out1" I R 4850 3350 50 
F18 "D_Out2" I R 4850 3450 50 
F19 "D_GND" U L 3450 4300 50 
F20 "3.3v" I L 3450 1250 50 
F21 "5.0v" I L 3450 1150 50 
F22 "TMC4671_RX" I R 4850 1500 50 
F23 "TMC4671_TX" O R 4850 1400 50 
F24 "CAN_H" B L 3450 1900 50 
F25 "CAN_L" B L 3450 2000 50 
F26 "USB_D+_i" B L 3450 1650 50 
F27 "USB_D-_i" B L 3450 1750 50 
F28 "Throttle_i" I L 3450 2150 50 
F29 "MotorTemp_i" I L 3450 2250 50 
F30 "TransistorTemp_i" I L 3450 2350 50 
F31 "A_In1_i" I L 3450 2500 50 
F32 "A_In2_i" I L 3450 2600 50 
F33 "D_In1_i" I L 3450 2700 50 
F34 "D_In2_i" I L 3450 2800 50 
F35 "D_In3_i" I L 3450 2900 50 
F36 "D_In4_i" I L 3450 3000 50 
F37 "A_Out1_i" O L 3450 3150 50 
F38 "A_Out2_i" O L 3450 3250 50 
F39 "D_Out1_i" O L 3450 3350 50 
F40 "D_Out2_i" O L 3450 3450 50 
F41 "Phase_A_HAL_i" I L 3450 3600 50 
F42 "Phase_B_HAL_i" I L 3450 3700 50 
F43 "Phase_C_HAL_i" I L 3450 3800 50 
F44 "Phase_A_HAL" O R 4850 3600 50 
F45 "Phase_B_HAL" O R 4850 3700 50 
F46 "Phase_C_HAL" O R 4850 3800 50 
F47 "Phase_A_HAL_FX_i" I L 3450 3950 50 
F48 "Phase_B_HAL_FX_i" I L 3450 4050 50 
F49 "Phase_C_HAL_FX_i" I L 3450 4150 50 
F50 "TMC4671_Rx_i" O L 3450 1500 50 
F51 "TMC4671_Tx_i" I L 3450 1400 50 
$EndSheet
Wire Wire Line
	4850 2500 5750 2500
Wire Wire Line
	4850 2600 5750 2600
Wire Wire Line
	4850 2700 5750 2700
Wire Wire Line
	4850 2800 5750 2800
Wire Wire Line
	5750 2900 4850 2900
Wire Wire Line
	4850 3000 5750 3000
Wire Wire Line
	4850 3150 5750 3150
Wire Wire Line
	4850 3250 5750 3250
Wire Wire Line
	4850 3350 5750 3350
Wire Wire Line
	4850 3450 5750 3450
Wire Wire Line
	4850 2350 5750 2350
Wire Wire Line
	4850 2250 5750 2250
Wire Wire Line
	4850 2150 5750 2150
Wire Wire Line
	4850 2000 5750 2000
Wire Wire Line
	4850 1900 5750 1900
Wire Wire Line
	4850 1750 5750 1750
Wire Wire Line
	4850 1650 5750 1650
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5BF2523A
P 5650 1250
F 0 "#PWR?" H 5650 1100 50  0001 C CNN
F 1 "+3.3V" H 5665 1423 50  0000 C CNN
F 2 "" H 5650 1250 50  0001 C CNN
F 3 "" H 5650 1250 50  0001 C CNN
	1    5650 1250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5650 1500 5750 1500
Wire Wire Line
	5650 1250 5650 1500
$Comp
L MotorControllerParts:D36V6Fx U?
U 1 1 5BFA3D64
P 6900 6950
F 0 "U?" V 7150 6850 50  0000 C CNN
F 1 "D36V6F5" V 6650 6900 50  0000 C CNN
F 2 "supermileage_footprints:D36V6Fx" H 6900 7300 50  0001 C CNN
F 3 "https://www.pololu.com/category/247/d36v6x-step-down-voltage-regulators" H 6900 6950 50  0001 C CNN
	1    6900 6950
	0    -1   -1   0   
$EndComp
NoConn ~ 7350 6800
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5BFA3D6C
P 7600 6700
F 0 "#PWR?" H 7600 6550 50  0001 C CNN
F 1 "+5V" H 7615 6873 50  0000 C CNN
F 2 "" H 7600 6700 50  0001 C CNN
F 3 "" H 7600 6700 50  0001 C CNN
	1    7600 6700
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFA3D72
P 7450 7750
F 0 "#PWR?" H 7450 7500 50  0001 C CNN
F 1 "GNDD" H 7454 7595 50  0000 C CNN
F 2 "" H 7450 7750 50  0001 C CNN
F 3 "" H 7450 7750 50  0001 C CNN
	1    7450 7750
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+BATT #PWR?
U 1 1 5BFA3D78
P 8050 6700
F 0 "#PWR?" H 8050 6550 50  0001 C CNN
F 1 "+BATT" H 8065 6873 50  0000 C CNN
F 2 "" H 8050 6700 50  0001 C CNN
F 3 "" H 8050 6700 50  0001 C CNN
	1    8050 6700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7600 6700 7600 7100
Wire Wire Line
	7600 7100 7350 7100
Wire Wire Line
	7450 7750 7450 7000
Wire Wire Line
	7450 7000 7350 7000
$Comp
L MotorControllerParts:AP7361C U?
U 1 1 5BFA3D82
P 4400 6900
F 0 "U?" H 4400 7165 50  0000 C CNN
F 1 "AP7361C-33" H 4400 7074 50  0000 C CNN
F 2 "TO_SOT_Packages_SMD:SOT-223" H 4500 7150 50  0001 C CNN
F 3 "https://www.diodes.com/assets/Datasheets/AP7361C.pdf" H 4400 6950 50  0001 C CNN
	1    4400 6900
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5BFA3D89
P 5600 6800
F 0 "#PWR?" H 5600 6650 50  0001 C CNN
F 1 "+3.3V" H 5615 6973 50  0000 C CNN
F 2 "" H 5600 6800 50  0001 C CNN
F 3 "" H 5600 6800 50  0001 C CNN
	1    5600 6800
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5BFA3D8F
P 3250 6800
F 0 "#PWR?" H 3250 6650 50  0001 C CNN
F 1 "+5V" H 3265 6973 50  0000 C CNN
F 2 "" H 3250 6800 50  0001 C CNN
F 3 "" H 3250 6800 50  0001 C CNN
	1    3250 6800
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFA3D95
P 4400 7500
F 0 "#PWR?" H 4400 7250 50  0001 C CNN
F 1 "GNDD" H 4404 7345 50  0000 C CNN
F 2 "" H 4400 7500 50  0001 C CNN
F 3 "" H 4400 7500 50  0001 C CNN
	1    4400 7500
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5BFA3D9B
P 3650 7200
F 0 "C?" H 3765 7246 50  0000 L CNN
F 1 "100n" H 3765 7155 50  0000 L CNN
F 2 "" H 3688 7050 50  0001 C CNN
F 3 "" H 3650 7200 50  0001 C CNN
	1    3650 7200
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5BFA3DA2
P 5200 7200
F 0 "C?" H 5250 7300 50  0000 L CNN
F 1 "4u7" H 5250 7100 50  0000 L CNN
F 2 "" H 5238 7050 50  0001 C CNN
F 3 "" H 5200 7200 50  0001 C CNN
	1    5200 7200
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5BFA3DA9
P 5600 7200
F 0 "C?" H 5715 7246 50  0000 L CNN
F 1 "10u" H 5650 7100 50  0000 L CNN
F 2 "" H 5638 7050 50  0001 C CNN
F 3 "" H 5600 7200 50  0001 C CNN
	1    5600 7200
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5BFA3DB0
P 3250 7200
F 0 "C?" H 3365 7246 50  0000 L CNN
F 1 "4u7" H 3365 7155 50  0000 L CNN
F 2 "" H 3288 7050 50  0001 C CNN
F 3 "" H 3250 7200 50  0001 C CNN
	1    3250 7200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3250 7350 3250 7450
Wire Wire Line
	3650 7450 3650 7350
Wire Wire Line
	3650 7050 3650 6900
Wire Wire Line
	3650 6900 3900 6900
Wire Wire Line
	3250 7050 3250 6900
Wire Wire Line
	3250 6900 3650 6900
Connection ~ 3650 6900
Wire Wire Line
	3250 6900 3250 6800
Connection ~ 3250 6900
Wire Wire Line
	4400 7500 4400 7450
Wire Wire Line
	5200 7050 5200 6900
Wire Wire Line
	5200 6900 4900 6900
Wire Wire Line
	5600 7050 5600 6900
Wire Wire Line
	5200 7350 5200 7450
Wire Wire Line
	5600 7450 5600 7350
Wire Wire Line
	5200 6900 5600 6900
Connection ~ 5200 6900
Connection ~ 5600 6900
Wire Wire Line
	5600 6900 5600 6800
Wire Wire Line
	3650 7450 4400 7450
Connection ~ 3650 7450
Connection ~ 4400 7450
Wire Wire Line
	4400 7450 4400 7350
Wire Wire Line
	4400 7450 5200 7450
Connection ~ 5200 7450
Wire Wire Line
	3250 7450 3650 7450
Wire Wire Line
	5200 7450 5600 7450
$Comp
L MotorControllerParts:C C?
U 1 1 5BFA3DD2
P 8050 7400
F 0 "C?" H 8100 7500 50  0000 L CNN
F 1 "33u" H 8100 7300 50  0000 L CNN
F 2 "" H 8088 7250 50  0001 C CNN
F 3 "" H 8050 7400 50  0001 C CNN
	1    8050 7400
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFA3DD9
P 8050 7750
F 0 "#PWR?" H 8050 7500 50  0001 C CNN
F 1 "GNDD" H 8054 7595 50  0000 C CNN
F 2 "" H 8050 7750 50  0001 C CNN
F 3 "" H 8050 7750 50  0001 C CNN
	1    8050 7750
	1    0    0    -1  
$EndComp
Wire Wire Line
	8050 7750 8050 7550
Text Notes 3050 6550 0    50   ~ 0
3.3V linear voltage regulator for the low voltage electronics. The selected\nregulator can supply 1A of output current, which is more than what the 5V \nswitching regulator can supply. The 4.7uF output capacitor should have a \nfairly low ESR.
Text Notes 6650 6450 0    50   ~ 0
5V switching regulator, up to 50V input, maximum 600mA output current. \nP-Channel MOSFET for an ideal diode with a 18v zener diode to protect the \nMOSFET gate. The  10K resistor limits the zener diode current to 3mA at \n48V input.
$Comp
L Device:Q_PMOS_GDS Q?
U 1 1 5BFA3DE2
P 8950 7000
F 0 "Q?" V 9293 7000 50  0000 C CNN
F 1 "Q_PMOS_GDS" V 9202 7000 50  0000 C CNN
F 2 "" H 9150 7100 50  0001 C CNN
F 3 "~" H 8950 7000 50  0001 C CNN
	1    8950 7000
	0    1    -1   0   
$EndComp
$Comp
L Device:D_Zener_ALT D?
U 1 1 5BFA3DE9
P 8600 7100
F 0 "D?" V 8550 6900 50  0000 L CNN
F 1 "18V Zener" V 8850 6900 50  0000 L CNN
F 2 "" H 8600 7100 50  0001 C CNN
F 3 "~" H 8600 7100 50  0001 C CNN
	1    8600 7100
	0    1    1    0   
$EndComp
$Comp
L MotorControllerParts:R R?
U 1 1 5BFA3DF0
P 8950 7550
F 0 "R?" H 9020 7596 50  0000 L CNN
F 1 "10K" H 9020 7505 50  0000 L CNN
F 2 "" V 8880 7550 50  0001 C CNN
F 3 "~" H 8950 7550 50  0001 C CNN
	1    8950 7550
	1    0    0    -1  
$EndComp
Wire Wire Line
	8950 7400 8950 7300
Wire Wire Line
	8950 7300 8600 7300
Wire Wire Line
	8600 7300 8600 7250
Connection ~ 8950 7300
Wire Wire Line
	8950 7300 8950 7200
Wire Wire Line
	8600 6950 8600 6900
Wire Wire Line
	8600 6900 8750 6900
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFA3DFE
P 8950 7750
F 0 "#PWR?" H 8950 7500 50  0001 C CNN
F 1 "GNDD" H 8954 7595 50  0000 C CNN
F 2 "" H 8950 7750 50  0001 C CNN
F 3 "" H 8950 7750 50  0001 C CNN
	1    8950 7750
	1    0    0    -1  
$EndComp
Wire Wire Line
	8950 7750 8950 7700
Wire Wire Line
	7350 6900 8050 6900
Connection ~ 8600 6900
Wire Wire Line
	8050 7250 8050 6900
Connection ~ 8050 6900
Wire Wire Line
	8050 6900 8600 6900
Wire Wire Line
	9150 6900 9450 6900
Wire Wire Line
	8050 6900 8050 6700
Text Label 9450 6900 2    50   ~ 0
Vin
Wire Notes Line
	6600 6100 9700 6100
Wire Notes Line
	9700 6100 9700 8000
Wire Notes Line
	9700 8000 6600 8000
Wire Notes Line
	6600 8000 6600 6100
Wire Notes Line
	6050 6200 6050 7850
Wire Notes Line
	6050 7850 2950 7850
Wire Notes Line
	2950 7850 2950 6200
Wire Notes Line
	2950 6200 6050 6200
$Comp
L Connector:USB_B_Micro J?
U 1 1 5BFDD119
P 1100 1650
F 0 "J?" H 1250 1250 50  0000 C CNN
F 1 "USB_B_Micro" H 1100 2000 50  0000 C CNN
F 2 "" H 1250 1600 50  0001 C CNN
F 3 "~" H 1250 1600 50  0001 C CNN
	1    1100 1650
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFDEB5E
P 1050 2150
F 0 "#PWR?" H 1050 1900 50  0001 C CNN
F 1 "GNDD" H 1050 2000 50  0000 C CNN
F 2 "" H 1050 2150 50  0001 C CNN
F 3 "" H 1050 2150 50  0001 C CNN
	1    1050 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1000 2050 1000 2100
Wire Wire Line
	1000 2100 1050 2100
Wire Wire Line
	1100 2100 1100 2050
Wire Wire Line
	1050 2150 1050 2100
Connection ~ 1050 2100
Wire Wire Line
	1050 2100 1100 2100
$Comp
L Connector_Generic:Conn_01x04 J?
U 1 1 5BFE5442
P 950 2900
F 0 "J?" H 950 3150 50  0000 C CNN
F 1 "CAN1" H 950 2550 50  0000 C CNN
F 2 "" H 950 2900 50  0001 C CNN
F 3 "~" H 950 2900 50  0001 C CNN
	1    950  2900
	-1   0    0    1   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFE5752
P 1250 3100
F 0 "#PWR?" H 1250 2850 50  0001 C CNN
F 1 "GNDD" H 1250 2950 50  0000 C CNN
F 2 "" H 1250 3100 50  0001 C CNN
F 3 "" H 1250 3100 50  0001 C CNN
	1    1250 3100
	1    0    0    -1  
$EndComp
Text Label 1500 2800 2    50   ~ 0
CAN_H
Text Label 1500 2900 2    50   ~ 0
CAN_L
Wire Wire Line
	1150 2900 1500 2900
Wire Wire Line
	1150 2800 1500 2800
Wire Wire Line
	1250 3100 1250 3000
Wire Wire Line
	1250 3000 1150 3000
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 5BFEEFEC
P 950 4800
F 0 "J?" H 950 4950 50  0000 C CNN
F 1 "Motor Temp" H 950 4550 50  0000 C CNN
F 2 "" H 950 4800 50  0001 C CNN
F 3 "~" H 950 4800 50  0001 C CNN
	1    950  4800
	-1   0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 5BFF0D92
P 950 5500
F 0 "J?" H 950 5650 50  0000 C CNN
F 1 "Transistor Temp" H 870 5266 50  0000 C CNN
F 2 "" H 950 5500 50  0001 C CNN
F 3 "~" H 950 5500 50  0001 C CNN
	1    950  5500
	-1   0    0    1   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFF1209
P 1250 4900
F 0 "#PWR?" H 1250 4650 50  0001 C CNN
F 1 "GNDD" H 1250 4750 50  0000 C CNN
F 2 "" H 1250 4900 50  0001 C CNN
F 3 "" H 1250 4900 50  0001 C CNN
	1    1250 4900
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFF12C8
P 1250 5600
F 0 "#PWR?" H 1250 5350 50  0001 C CNN
F 1 "GNDD" H 1250 5450 50  0000 C CNN
F 2 "" H 1250 5600 50  0001 C CNN
F 3 "" H 1250 5600 50  0001 C CNN
	1    1250 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1250 5600 1250 5500
Wire Wire Line
	1250 5500 1150 5500
Wire Wire Line
	1250 4900 1250 4800
Wire Wire Line
	1250 4800 1150 4800
Text Label 1950 5400 2    50   ~ 0
TransistorTemp
Wire Wire Line
	1950 5400 1150 5400
Text Label 1950 4700 2    50   ~ 0
MotorTemp
Text Label 2800 2250 0    50   ~ 0
MotorTemp
Text Label 2800 2350 0    50   ~ 0
TransistorTemp
Wire Wire Line
	2800 2250 3450 2250
Wire Wire Line
	2800 2350 3450 2350
$Comp
L Connector_Generic:Conn_01x04 J?
U 1 1 5C001BC1
P 950 3900
F 0 "J?" H 950 4150 50  0000 C CNN
F 1 "Throttle" H 950 3550 50  0000 C CNN
F 2 "" H 950 3900 50  0001 C CNN
F 3 "~" H 950 3900 50  0001 C CNN
	1    950  3900
	-1   0    0    1   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C0066E6
P 1250 4100
F 0 "#PWR?" H 1250 3850 50  0001 C CNN
F 1 "GNDD" H 1250 3950 50  0000 C CNN
F 2 "" H 1250 4100 50  0001 C CNN
F 3 "" H 1250 4100 50  0001 C CNN
	1    1250 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1250 4100 1250 4000
Wire Wire Line
	1250 4000 1150 4000
Text Label 1700 3900 2    50   ~ 0
Throttle
$Comp
L power:+5V #PWR?
U 1 1 5C00DC4D
P 1700 3500
F 0 "#PWR?" H 1700 3350 50  0001 C CNN
F 1 "+5V" H 1715 3673 50  0000 C CNN
F 2 "" H 1700 3500 50  0001 C CNN
F 3 "" H 1700 3500 50  0001 C CNN
	1    1700 3500
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_02x07_Top_Bottom J?
U 1 1 5C00DFF5
P 1350 8050
F 0 "J?" H 1400 7600 50  0000 C CNN
F 1 "Extra IO" H 1400 8476 50  0000 C CNN
F 2 "" H 1350 8050 50  0001 C CNN
F 3 "~" H 1350 8050 50  0001 C CNN
	1    1350 8050
	1    0    0    -1  
$EndComp
Text Label 3150 2500 0    50   ~ 0
A_in1
Text Label 3150 2600 0    50   ~ 0
A_in2
Wire Wire Line
	3150 2500 3450 2500
Wire Wire Line
	3150 2600 3450 2600
Text Label 3150 2700 0    50   ~ 0
D_in1
Text Label 3150 2800 0    50   ~ 0
D_in2
Text Label 3150 2900 0    50   ~ 0
D_in3
Text Label 3150 3000 0    50   ~ 0
D_in4
Wire Wire Line
	3150 2700 3450 2700
Wire Wire Line
	3150 2800 3450 2800
Wire Wire Line
	3150 2900 3450 2900
Wire Wire Line
	3150 3000 3450 3000
Text Label 3150 3150 0    50   ~ 0
A_Out1
Text Label 3150 3250 0    50   ~ 0
A_Out2
Text Label 3150 3350 0    50   ~ 0
D_Out1
Text Label 3150 3450 0    50   ~ 0
D_Out2
Wire Wire Line
	3150 3450 3450 3450
Wire Wire Line
	3150 3350 3450 3350
Wire Wire Line
	3150 3250 3450 3250
Wire Wire Line
	3150 3150 3450 3150
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C02B30B
P 1100 8550
F 0 "#PWR?" H 1100 8300 50  0001 C CNN
F 1 "GNDD" H 1104 8395 50  0000 C CNN
F 2 "" H 1100 8550 50  0001 C CNN
F 3 "" H 1100 8550 50  0001 C CNN
	1    1100 8550
	1    0    0    -1  
$EndComp
Wire Wire Line
	1100 7750 1150 7750
Text Label 800  7950 0    50   ~ 0
A_in1
Wire Wire Line
	800  7950 1150 7950
Text Label 800  8050 0    50   ~ 0
A_in2
Text Label 2000 7950 2    50   ~ 0
A_Out1
Text Label 2000 8050 2    50   ~ 0
A_Out2
Wire Wire Line
	2000 7950 1650 7950
Wire Wire Line
	2000 8050 1650 8050
Wire Wire Line
	800  8050 1150 8050
Text Label 800  8150 0    50   ~ 0
D_in1
Text Label 800  8250 0    50   ~ 0
D_in2
Text Label 800  8350 0    50   ~ 0
D_in3
Text Label 2000 8150 2    50   ~ 0
D_Out1
Text Label 2000 8250 2    50   ~ 0
D_Out2
Text Label 2000 8350 2    50   ~ 0
D_in4
Wire Wire Line
	800  8350 1150 8350
Wire Wire Line
	800  8250 1150 8250
Wire Wire Line
	800  8150 1150 8150
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5C06D168
P 1950 7450
F 0 "#PWR?" H 1950 7300 50  0001 C CNN
F 1 "+3.3V" H 1965 7623 50  0000 C CNN
F 2 "" H 1950 7450 50  0001 C CNN
F 3 "" H 1950 7450 50  0001 C CNN
	1    1950 7450
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 5C06D333
P 1700 7450
F 0 "#PWR?" H 1700 7300 50  0001 C CNN
F 1 "+5V" H 1715 7623 50  0000 C CNN
F 2 "" H 1700 7450 50  0001 C CNN
F 3 "" H 1700 7450 50  0001 C CNN
	1    1700 7450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 7450 1950 7750
Wire Wire Line
	1950 7750 1650 7750
Wire Wire Line
	2000 8150 1650 8150
Wire Wire Line
	2000 8250 1650 8250
Wire Wire Line
	2000 8350 1650 8350
Wire Wire Line
	1100 7750 1100 7850
Wire Wire Line
	1150 7850 1100 7850
Connection ~ 1100 7850
Wire Wire Line
	1100 7850 1100 8550
Wire Wire Line
	1700 7450 1700 7850
Wire Wire Line
	1700 7850 1650 7850
Text Label 3000 1650 0    50   ~ 0
USB_D+
Text Label 3000 1750 0    50   ~ 0
USB_D-
Wire Wire Line
	3000 1650 3450 1650
Wire Wire Line
	3000 1750 3450 1750
Text Label 3000 1900 0    50   ~ 0
CAN_H
Text Label 3000 2000 0    50   ~ 0
CAN_L
Wire Wire Line
	3000 2000 3450 2000
Wire Wire Line
	3000 1900 3450 1900
Text Label 2800 2150 0    50   ~ 0
Throttle
Wire Wire Line
	2800 2150 3450 2150
Wire Wire Line
	1300 3700 1150 3700
Wire Wire Line
	1300 3700 1300 3800
Wire Wire Line
	1300 3800 1150 3800
Text Label 1800 1650 2    50   ~ 0
USB_D+
Text Label 1800 1750 2    50   ~ 0
USB_D-
Wire Wire Line
	1800 1650 1400 1650
Wire Wire Line
	1800 1750 1400 1750
NoConn ~ 1150 2700
$Comp
L Device:Polyfuse_Small F?
U 1 1 5C1CAD40
P 1500 3700
F 0 "F?" V 1550 3800 50  0000 C CNN
F 1 "50mA PTC" V 1400 3650 50  0000 C CNN
F 2 "" H 1550 3500 50  0001 L CNN
F 3 "~" H 1500 3700 50  0001 C CNN
	1    1500 3700
	0    1    1    0   
$EndComp
Wire Wire Line
	1600 3700 1700 3700
Wire Wire Line
	1700 3700 1700 3500
Wire Wire Line
	1300 3700 1400 3700
Connection ~ 1300 3700
$Comp
L Connector_Generic:Conn_01x06 J?
U 1 1 5BF7BB3E
P 950 6750
F 0 "J?" H 950 7100 50  0000 C CNN
F 1 "Hall Sensors" H 1000 6350 50  0000 C CNN
F 2 "" H 950 6750 50  0001 C CNN
F 3 "~" H 950 6750 50  0001 C CNN
	1    950  6750
	-1   0    0    1   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BF7BC81
P 1250 7050
F 0 "#PWR?" H 1250 6800 50  0001 C CNN
F 1 "GNDD" H 1254 6895 50  0000 C CNN
F 2 "" H 1250 7050 50  0001 C CNN
F 3 "" H 1250 7050 50  0001 C CNN
	1    1250 7050
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 5BF8E00C
P 1250 6150
F 0 "#PWR?" H 1250 6000 50  0001 C CNN
F 1 "+5V" H 1265 6323 50  0000 C CNN
F 2 "" H 1250 6150 50  0001 C CNN
F 3 "" H 1250 6150 50  0001 C CNN
	1    1250 6150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1250 6150 1250 6450
Wire Wire Line
	1250 6450 1150 6450
Wire Wire Line
	1250 7050 1250 6950
Wire Wire Line
	1250 6950 1150 6950
$Comp
L MotorControllerParts:R R?
U 1 1 5BF9BD2E
P 1600 6350
F 0 "R?" H 1670 6396 50  0000 L CNN
F 1 "10K" H 1670 6305 50  0000 L CNN
F 2 "" V 1530 6350 50  0001 C CNN
F 3 "" H 1600 6350 50  0001 C CNN
	1    1600 6350
	1    0    0    -1  
$EndComp
Wire Wire Line
	1150 6550 1600 6550
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5BFAF9CA
P 1600 6150
F 0 "#PWR?" H 1600 6000 50  0001 C CNN
F 1 "+3.3V" H 1615 6323 50  0000 C CNN
F 2 "" H 1600 6150 50  0001 C CNN
F 3 "" H 1600 6150 50  0001 C CNN
	1    1600 6150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1150 3900 1700 3900
Text Label 1550 6550 2    50   ~ 0
MotorTemp
Text Label 3150 3600 0    50   ~ 0
Hall1
Text Label 3150 3700 0    50   ~ 0
Hall2
Text Label 3150 3800 0    50   ~ 0
Hall3
Wire Wire Line
	3150 3600 3450 3600
Wire Wire Line
	3450 3700 3150 3700
Wire Wire Line
	3150 3800 3450 3800
Text Label 1550 6650 2    50   ~ 0
Hall1
Text Label 1550 6750 2    50   ~ 0
Hall2
Text Label 1550 6850 2    50   ~ 0
Hall3
Wire Wire Line
	1550 6650 1150 6650
Wire Wire Line
	1150 6750 1550 6750
Wire Wire Line
	1550 6850 1150 6850
Wire Wire Line
	1600 6550 1600 6500
Wire Wire Line
	1600 6200 1600 6150
Wire Wire Line
	1150 4700 1950 4700
Wire Wire Line
	7600 2000 8050 2000
Wire Wire Line
	7600 1900 8050 1900
Wire Wire Line
	7600 1800 8050 1800
Wire Wire Line
	7600 1700 8050 1700
$EndSCHEMATC
