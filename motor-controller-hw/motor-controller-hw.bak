EESchema Schematic File Version 4
LIBS:motor-controller-hw-cache
EELAYER 26 0
EELAYER END
$Descr USLedger 17000 11000
encoding utf-8
Sheet 1 4
Title "Motor Controller Control Board"
Date "2018-11-28"
Rev "1.0"
Comp "Cedarville University"
Comment1 "Supermileage Motor Controller"
Comment2 "Senior Design 2018-2019"
Comment3 "Samuel Ellicott"
Comment4 ""
$EndDescr
$Comp
L MotorControllerParts:GNDD #PWR0111
U 1 1 5BB25C8D
P 5650 3850
F 0 "#PWR0111" H 5650 3600 50  0001 C CNN
F 1 "GNDD" H 5650 3700 50  0000 C CNN
F 2 "" H 5650 3850 50  0001 C CNN
F 3 "" H 5650 3850 50  0001 C CNN
	1    5650 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5650 3850 5650 3600
Wire Wire Line
	5650 3600 5750 3600
$Comp
L MotorControllerParts:GNDD #PWR0103
U 1 1 5BBE7244
P 3300 4400
F 0 "#PWR0103" H 3300 4150 50  0001 C CNN
F 1 "GNDD" H 3300 4250 50  0000 C CNN
F 2 "" H 3300 4400 50  0001 C CNN
F 3 "" H 3300 4400 50  0001 C CNN
	1    3300 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3300 4400 3300 4300
Wire Wire Line
	3300 4300 3450 4300
$Comp
L power:+5V #PWR0102
U 1 1 5BBE81EF
P 3300 1200
F 0 "#PWR0102" H 3300 1050 50  0001 C CNN
F 1 "+5V" H 3315 1373 50  0000 C CNN
F 2 "" H 3300 1200 50  0001 C CNN
F 3 "" H 3300 1200 50  0001 C CNN
	1    3300 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 1400 3300 1400
Wire Wire Line
	3300 1400 3300 1200
$Comp
L MotorControllerParts:+3.3V #PWR0101
U 1 1 5BC124CB
P 3050 1200
F 0 "#PWR0101" H 3050 1050 50  0001 C CNN
F 1 "+3.3V" H 3065 1373 50  0000 C CNN
F 2 "" H 3050 1200 50  0001 C CNN
F 3 "" H 3050 1200 50  0001 C CNN
	1    3050 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3050 1200 3050 1500
Wire Wire Line
	3050 1500 3450 1500
$Sheet
S 5750 1400 1900 2300
U 5BE2BA0F
F0 "STM32" 50
F1 "microcontroller.sch" 50
F2 "3.3v" I L 5750 1500 50 
F3 "USB_D+" B L 5750 1650 50 
F4 "USB_D-" B L 5750 1750 50 
F5 "CAN_Rx" B L 5750 1900 50 
F6 "CAN_Tx" B L 5750 2000 50 
F7 "Throttle" I L 5750 2150 50 
F8 "MotorTemp" I L 5750 2250 50 
F9 "TransistorTemp" I L 5750 2350 50 
F10 "A_In1" I L 5750 2500 50 
F11 "A_In2" I L 5750 2600 50 
F12 "D_In1" I L 5750 2700 50 
F13 "D_In2" I L 5750 2800 50 
F14 "D_In3" I L 5750 2900 50 
F15 "D_In4" I L 5750 3000 50 
F16 "A_Out1" O L 5750 3150 50 
F17 "A_Out2" O L 5750 3250 50 
F18 "D_Out1" O L 5750 3350 50 
F19 "D_Out2" O L 5750 3450 50 
F20 "DGND" I L 5750 3600 50 
F21 "~TMC4671_SS" O R 7650 1800 50 
F22 "TMC4671_SCK" O R 7650 1900 50 
F23 "TMC4671_MISO" I R 7650 2100 50 
F24 "TMC4671_MOSI" O R 7650 2000 50 
F25 "TMC4671_EN" O R 7650 1500 50 
F26 "TMC4671_Status" I R 7650 1600 50 
$EndSheet
Wire Wire Line
	4850 2500 5750 2500
Wire Wire Line
	4850 2600 5750 2600
Wire Wire Line
	4850 2700 5750 2700
Wire Wire Line
	4850 2800 5750 2800
Wire Wire Line
	5750 2900 4850 2900
Wire Wire Line
	4850 3000 5750 3000
Wire Wire Line
	4850 3150 5750 3150
Wire Wire Line
	4850 3250 5750 3250
Wire Wire Line
	4850 3350 5750 3350
Wire Wire Line
	4850 3450 5750 3450
Wire Wire Line
	4850 2350 5750 2350
Wire Wire Line
	4850 2250 5750 2250
Wire Wire Line
	4850 2150 5750 2150
Wire Wire Line
	4850 1750 5750 1750
Wire Wire Line
	4850 1650 5750 1650
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5BF2523A
P 5650 1300
F 0 "#PWR?" H 5650 1150 50  0001 C CNN
F 1 "+3.3V" H 5665 1473 50  0000 C CNN
F 2 "" H 5650 1300 50  0001 C CNN
F 3 "" H 5650 1300 50  0001 C CNN
	1    5650 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	5650 1500 5750 1500
Wire Wire Line
	5650 1300 5650 1500
$Comp
L MotorControllerParts:D36V6Fx U?
U 1 1 5BFA3D64
P 8950 7250
F 0 "U?" V 9200 7150 50  0000 C CNN
F 1 "D36V6F5" V 8700 7200 50  0000 C CNN
F 2 "supermileage_footprints:D36V6Fx" H 8950 7600 50  0001 C CNN
F 3 "https://www.pololu.com/category/247/d36v6x-step-down-voltage-regulators" H 8950 7250 50  0001 C CNN
	1    8950 7250
	0    1    -1   0   
$EndComp
NoConn ~ 8500 7100
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5BFA3D6C
P 8250 6700
F 0 "#PWR?" H 8250 6550 50  0001 C CNN
F 1 "+5V" H 8265 6873 50  0000 C CNN
F 2 "" H 8250 6700 50  0001 C CNN
F 3 "" H 8250 6700 50  0001 C CNN
	1    8250 6700
	-1   0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFA3D72
P 8400 8000
F 0 "#PWR?" H 8400 7750 50  0001 C CNN
F 1 "GNDD" H 8404 7845 50  0000 C CNN
F 2 "" H 8400 8000 50  0001 C CNN
F 3 "" H 8400 8000 50  0001 C CNN
	1    8400 8000
	-1   0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+BATT #PWR?
U 1 1 5BFA3D78
P 7800 6700
F 0 "#PWR?" H 7800 6550 50  0001 C CNN
F 1 "+BATT" H 7815 6873 50  0000 C CNN
F 2 "" H 7800 6700 50  0001 C CNN
F 3 "" H 7800 6700 50  0001 C CNN
	1    7800 6700
	-1   0    0    -1  
$EndComp
Wire Wire Line
	8250 6700 8250 6900
Wire Wire Line
	8250 7400 8500 7400
Wire Wire Line
	8400 8000 8400 7300
Wire Wire Line
	8400 7300 8500 7300
$Comp
L MotorControllerParts:AP7361C U?
U 1 1 5BFA3D82
P 7700 9050
F 0 "U?" H 7700 9315 50  0000 C CNN
F 1 "AP7361C-33" H 7700 9224 50  0000 C CNN
F 2 "TO_SOT_Packages_SMD:SOT-223" H 7800 9300 50  0001 C CNN
F 3 "https://www.diodes.com/assets/Datasheets/AP7361C.pdf" H 7700 9100 50  0001 C CNN
	1    7700 9050
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5BFA3D89
P 8900 8950
F 0 "#PWR?" H 8900 8800 50  0001 C CNN
F 1 "+3.3V" H 8915 9123 50  0000 C CNN
F 2 "" H 8900 8950 50  0001 C CNN
F 3 "" H 8900 8950 50  0001 C CNN
	1    8900 8950
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5BFA3D8F
P 6550 8950
F 0 "#PWR?" H 6550 8800 50  0001 C CNN
F 1 "+5V" H 6565 9123 50  0000 C CNN
F 2 "" H 6550 8950 50  0001 C CNN
F 3 "" H 6550 8950 50  0001 C CNN
	1    6550 8950
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFA3D95
P 7700 9650
F 0 "#PWR?" H 7700 9400 50  0001 C CNN
F 1 "GNDD" H 7704 9495 50  0000 C CNN
F 2 "" H 7700 9650 50  0001 C CNN
F 3 "" H 7700 9650 50  0001 C CNN
	1    7700 9650
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5BFA3D9B
P 6950 9350
F 0 "C?" H 7065 9396 50  0000 L CNN
F 1 "100n" H 7065 9305 50  0000 L CNN
F 2 "" H 6988 9200 50  0001 C CNN
F 3 "" H 6950 9350 50  0001 C CNN
	1    6950 9350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5BFA3DA2
P 8500 9350
F 0 "C?" H 8550 9450 50  0000 L CNN
F 1 "4u7" H 8550 9250 50  0000 L CNN
F 2 "" H 8538 9200 50  0001 C CNN
F 3 "" H 8500 9350 50  0001 C CNN
	1    8500 9350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5BFA3DA9
P 8900 9350
F 0 "C?" H 9015 9396 50  0000 L CNN
F 1 "10u" H 8950 9250 50  0000 L CNN
F 2 "" H 8938 9200 50  0001 C CNN
F 3 "" H 8900 9350 50  0001 C CNN
	1    8900 9350
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:C C?
U 1 1 5BFA3DB0
P 6550 9350
F 0 "C?" H 6665 9396 50  0000 L CNN
F 1 "4u7" H 6665 9305 50  0000 L CNN
F 2 "" H 6588 9200 50  0001 C CNN
F 3 "" H 6550 9350 50  0001 C CNN
	1    6550 9350
	1    0    0    -1  
$EndComp
Wire Wire Line
	6550 9500 6550 9600
Wire Wire Line
	6950 9600 6950 9500
Wire Wire Line
	6950 9200 6950 9050
Wire Wire Line
	6950 9050 7200 9050
Wire Wire Line
	6550 9200 6550 9050
Wire Wire Line
	6550 9050 6950 9050
Connection ~ 6950 9050
Wire Wire Line
	6550 9050 6550 8950
Connection ~ 6550 9050
Wire Wire Line
	7700 9650 7700 9600
Wire Wire Line
	8500 9200 8500 9050
Wire Wire Line
	8500 9050 8200 9050
Wire Wire Line
	8900 9200 8900 9050
Wire Wire Line
	8500 9500 8500 9600
Wire Wire Line
	8900 9600 8900 9500
Wire Wire Line
	8500 9050 8900 9050
Connection ~ 8500 9050
Connection ~ 8900 9050
Wire Wire Line
	8900 9050 8900 8950
Wire Wire Line
	6950 9600 7700 9600
Connection ~ 6950 9600
Connection ~ 7700 9600
Wire Wire Line
	7700 9600 7700 9500
Wire Wire Line
	7700 9600 8500 9600
Connection ~ 8500 9600
Wire Wire Line
	6550 9600 6950 9600
Wire Wire Line
	8500 9600 8900 9600
$Comp
L MotorControllerParts:C C?
U 1 1 5BFA3DD2
P 7800 7500
F 0 "C?" H 7850 7600 50  0000 L CNN
F 1 "33u" H 7850 7400 50  0000 L CNN
F 2 "" H 7838 7350 50  0001 C CNN
F 3 "" H 7800 7500 50  0001 C CNN
	1    7800 7500
	-1   0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFA3DD9
P 7800 8000
F 0 "#PWR?" H 7800 7750 50  0001 C CNN
F 1 "GNDD" H 7804 7845 50  0000 C CNN
F 2 "" H 7800 8000 50  0001 C CNN
F 3 "" H 7800 8000 50  0001 C CNN
	1    7800 8000
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7800 8000 7800 7650
Text Notes 6350 8700 0    50   ~ 0
3.3V linear voltage regulator for the low voltage electronics. The selected\nregulator can supply 1A of output current, which is more than what the 5V \nswitching regulator can supply. The 4.7uF output capacitor should have a \nfairly low ESR.
Text Notes 6300 6500 0    50   ~ 0
5V switching regulator, up to 50V input, maximum 600mA output current. \nThe regulator is short circuit protected.\nA P-Channel MOSFET is used as an ideal diode with a 18v zener diode to\nprotect the MOSFET gate. The 10K resistor limits the zener diode current\nto 3mA at 48V input. A Shocktty diode is used to protect the USB 5V line\nfrom reverse current. 
$Comp
L Device:Q_PMOS_GDS Q?
U 1 1 5BFA3DE2
P 6900 7300
F 0 "Q?" V 7150 7300 50  0000 C CNN
F 1 "Q_PMOS_GDS" V 6750 7600 50  0000 C CNN
F 2 "" H 7100 7400 50  0001 C CNN
F 3 "~" H 6900 7300 50  0001 C CNN
	1    6900 7300
	0    -1   -1   0   
$EndComp
$Comp
L Device:D_Zener_ALT D?
U 1 1 5BFA3DE9
P 7300 7400
F 0 "D?" V 7400 7450 50  0000 L CNN
F 1 "18V Zener" H 7150 7300 50  0000 L CNN
F 2 "" H 7300 7400 50  0001 C CNN
F 3 "~" H 7300 7400 50  0001 C CNN
	1    7300 7400
	0    -1   1    0   
$EndComp
Wire Wire Line
	6900 7600 7300 7600
Wire Wire Line
	7300 7600 7300 7550
Wire Wire Line
	6900 7600 6900 7500
Wire Wire Line
	7300 7250 7300 7200
Wire Wire Line
	7300 7200 7100 7200
Wire Wire Line
	8500 7200 7800 7200
Connection ~ 7300 7200
Wire Wire Line
	7800 7350 7800 7200
Connection ~ 7800 7200
Wire Wire Line
	6700 7200 6400 7200
Wire Wire Line
	7800 7200 7800 6700
Text Label 6400 7200 0    50   ~ 0
Vin
Wire Notes Line
	6250 6000 9350 6000
Wire Notes Line
	9350 6000 9350 8250
Wire Notes Line
	9350 8250 6250 8250
Wire Notes Line
	6250 8250 6250 6000
Wire Notes Line
	9350 8350 9350 10000
Wire Notes Line
	9350 10000 6250 10000
Wire Notes Line
	6250 10000 6250 8350
Wire Notes Line
	6250 8350 9350 8350
$Comp
L Connector:USB_B_Micro J?
U 1 1 5BFDD119
P 1100 1650
F 0 "J?" H 1250 1250 50  0000 C CNN
F 1 "USB_B_Micro" H 1100 2000 50  0000 C CNN
F 2 "" H 1250 1600 50  0001 C CNN
F 3 "~" H 1250 1600 50  0001 C CNN
	1    1100 1650
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFDEB5E
P 1050 2150
F 0 "#PWR?" H 1050 1900 50  0001 C CNN
F 1 "GNDD" H 1050 2000 50  0000 C CNN
F 2 "" H 1050 2150 50  0001 C CNN
F 3 "" H 1050 2150 50  0001 C CNN
	1    1050 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1000 2050 1000 2100
Wire Wire Line
	1000 2100 1050 2100
Wire Wire Line
	1100 2100 1100 2050
Wire Wire Line
	1050 2150 1050 2100
Connection ~ 1050 2100
Wire Wire Line
	1050 2100 1100 2100
$Comp
L Connector_Generic:Conn_01x04 J?
U 1 1 5BFE5442
P 950 2900
F 0 "J?" H 950 3150 50  0000 C CNN
F 1 "CAN1" H 950 2550 50  0000 C CNN
F 2 "" H 950 2900 50  0001 C CNN
F 3 "~" H 950 2900 50  0001 C CNN
	1    950  2900
	-1   0    0    1   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFE5752
P 1250 3100
F 0 "#PWR?" H 1250 2850 50  0001 C CNN
F 1 "GNDD" H 1250 2950 50  0000 C CNN
F 2 "" H 1250 3100 50  0001 C CNN
F 3 "" H 1250 3100 50  0001 C CNN
	1    1250 3100
	1    0    0    -1  
$EndComp
Text Label 1500 2800 2    50   ~ 0
CAN_H
Text Label 1500 2900 2    50   ~ 0
CAN_L
Wire Wire Line
	1150 2900 1500 2900
Wire Wire Line
	1150 2800 1500 2800
Wire Wire Line
	1250 3100 1250 3000
Wire Wire Line
	1250 3000 1150 3000
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 5BFEEFEC
P 950 4800
F 0 "J?" H 950 4950 50  0000 C CNN
F 1 "Motor Temp" H 950 4550 50  0000 C CNN
F 2 "" H 950 4800 50  0001 C CNN
F 3 "~" H 950 4800 50  0001 C CNN
	1    950  4800
	-1   0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 5BFF0D92
P 950 5500
F 0 "J?" H 950 5650 50  0000 C CNN
F 1 "Transistor Temp" H 870 5266 50  0000 C CNN
F 2 "" H 950 5500 50  0001 C CNN
F 3 "~" H 950 5500 50  0001 C CNN
	1    950  5500
	-1   0    0    1   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFF1209
P 1250 4900
F 0 "#PWR?" H 1250 4650 50  0001 C CNN
F 1 "GNDD" H 1250 4750 50  0000 C CNN
F 2 "" H 1250 4900 50  0001 C CNN
F 3 "" H 1250 4900 50  0001 C CNN
	1    1250 4900
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFF12C8
P 1250 5600
F 0 "#PWR?" H 1250 5350 50  0001 C CNN
F 1 "GNDD" H 1250 5450 50  0000 C CNN
F 2 "" H 1250 5600 50  0001 C CNN
F 3 "" H 1250 5600 50  0001 C CNN
	1    1250 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1250 5600 1250 5500
Wire Wire Line
	1250 5500 1150 5500
Wire Wire Line
	1250 4900 1250 4800
Wire Wire Line
	1250 4800 1150 4800
Text Label 1950 5400 2    50   ~ 0
TransistorTemp
Wire Wire Line
	1950 5400 1150 5400
Text Label 1950 4700 2    50   ~ 0
MotorTemp
Text Label 2800 2250 0    50   ~ 0
MotorTemp
Text Label 2800 2350 0    50   ~ 0
TransistorTemp
Wire Wire Line
	2800 2250 3450 2250
Wire Wire Line
	2800 2350 3450 2350
$Comp
L Connector_Generic:Conn_01x04 J?
U 1 1 5C001BC1
P 950 3900
F 0 "J?" H 950 4150 50  0000 C CNN
F 1 "Throttle" H 950 3550 50  0000 C CNN
F 2 "" H 950 3900 50  0001 C CNN
F 3 "~" H 950 3900 50  0001 C CNN
	1    950  3900
	-1   0    0    1   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C0066E6
P 1250 4100
F 0 "#PWR?" H 1250 3850 50  0001 C CNN
F 1 "GNDD" H 1250 3950 50  0000 C CNN
F 2 "" H 1250 4100 50  0001 C CNN
F 3 "" H 1250 4100 50  0001 C CNN
	1    1250 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1250 4100 1250 4000
Wire Wire Line
	1250 4000 1150 4000
Text Label 1700 3900 2    50   ~ 0
Throttle
$Comp
L power:+5V #PWR?
U 1 1 5C00DC4D
P 1700 3500
F 0 "#PWR?" H 1700 3350 50  0001 C CNN
F 1 "+5V" H 1715 3673 50  0000 C CNN
F 2 "" H 1700 3500 50  0001 C CNN
F 3 "" H 1700 3500 50  0001 C CNN
	1    1700 3500
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_02x07_Top_Bottom J?
U 1 1 5C00DFF5
P 1350 8050
F 0 "J?" H 1400 7600 50  0000 C CNN
F 1 "Extra IO" H 1400 8476 50  0000 C CNN
F 2 "" H 1350 8050 50  0001 C CNN
F 3 "~" H 1350 8050 50  0001 C CNN
	1    1350 8050
	1    0    0    -1  
$EndComp
Text Label 3150 2500 0    50   ~ 0
A_in1
Text Label 3150 2600 0    50   ~ 0
A_in2
Wire Wire Line
	3150 2500 3450 2500
Wire Wire Line
	3150 2600 3450 2600
Text Label 3150 2700 0    50   ~ 0
D_in1
Text Label 3150 2800 0    50   ~ 0
D_in2
Text Label 3150 2900 0    50   ~ 0
D_in3
Text Label 3150 3000 0    50   ~ 0
D_in4
Wire Wire Line
	3150 2700 3450 2700
Wire Wire Line
	3150 2800 3450 2800
Wire Wire Line
	3150 2900 3450 2900
Wire Wire Line
	3150 3000 3450 3000
Text Label 3150 3150 0    50   ~ 0
A_Out1
Text Label 3150 3250 0    50   ~ 0
A_Out2
Text Label 3150 3350 0    50   ~ 0
D_Out1
Text Label 3150 3450 0    50   ~ 0
D_Out2
Wire Wire Line
	3150 3450 3450 3450
Wire Wire Line
	3150 3350 3450 3350
Wire Wire Line
	3150 3250 3450 3250
Wire Wire Line
	3150 3150 3450 3150
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C02B30B
P 1100 8550
F 0 "#PWR?" H 1100 8300 50  0001 C CNN
F 1 "GNDD" H 1104 8395 50  0000 C CNN
F 2 "" H 1100 8550 50  0001 C CNN
F 3 "" H 1100 8550 50  0001 C CNN
	1    1100 8550
	1    0    0    -1  
$EndComp
Wire Wire Line
	1100 7750 1150 7750
Text Label 800  7950 0    50   ~ 0
A_in1
Wire Wire Line
	800  7950 1150 7950
Text Label 800  8050 0    50   ~ 0
A_in2
Text Label 2000 7950 2    50   ~ 0
A_Out1
Text Label 2000 8050 2    50   ~ 0
A_Out2
Wire Wire Line
	2000 7950 1650 7950
Wire Wire Line
	2000 8050 1650 8050
Wire Wire Line
	800  8050 1150 8050
Text Label 800  8150 0    50   ~ 0
D_in1
Text Label 800  8250 0    50   ~ 0
D_in2
Text Label 800  8350 0    50   ~ 0
D_in3
Text Label 2000 8150 2    50   ~ 0
D_Out1
Text Label 2000 8250 2    50   ~ 0
D_Out2
Text Label 2000 8350 2    50   ~ 0
D_in4
Wire Wire Line
	800  8350 1150 8350
Wire Wire Line
	800  8250 1150 8250
Wire Wire Line
	800  8150 1150 8150
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5C06D168
P 1950 7450
F 0 "#PWR?" H 1950 7300 50  0001 C CNN
F 1 "+3.3V" H 1965 7623 50  0000 C CNN
F 2 "" H 1950 7450 50  0001 C CNN
F 3 "" H 1950 7450 50  0001 C CNN
	1    1950 7450
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 5C06D333
P 1700 7450
F 0 "#PWR?" H 1700 7300 50  0001 C CNN
F 1 "+5V" H 1715 7623 50  0000 C CNN
F 2 "" H 1700 7450 50  0001 C CNN
F 3 "" H 1700 7450 50  0001 C CNN
	1    1700 7450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 7750 1650 7750
Wire Wire Line
	2000 8150 1650 8150
Wire Wire Line
	2000 8250 1650 8250
Wire Wire Line
	2000 8350 1650 8350
Wire Wire Line
	1100 7750 1100 7850
Wire Wire Line
	1150 7850 1100 7850
Connection ~ 1100 7850
Wire Wire Line
	1100 7850 1100 8550
Wire Wire Line
	1700 7850 1650 7850
Text Label 3000 1650 0    50   ~ 0
USB_D+
Text Label 3000 1750 0    50   ~ 0
USB_D-
Wire Wire Line
	3000 1650 3450 1650
Wire Wire Line
	3000 1750 3450 1750
Text Label 3000 1900 0    50   ~ 0
CAN_H
Text Label 3000 2000 0    50   ~ 0
CAN_L
Wire Wire Line
	3000 2000 3450 2000
Wire Wire Line
	3000 1900 3450 1900
Text Label 2800 2150 0    50   ~ 0
Throttle
Wire Wire Line
	2800 2150 3450 2150
Wire Wire Line
	1300 3700 1150 3700
Wire Wire Line
	1300 3700 1300 3800
Wire Wire Line
	1300 3800 1150 3800
Text Label 1800 1650 2    50   ~ 0
USB_D+
Text Label 1800 1750 2    50   ~ 0
USB_D-
Wire Wire Line
	1800 1650 1400 1650
Wire Wire Line
	1800 1750 1400 1750
NoConn ~ 1150 2700
$Comp
L Device:Polyfuse_Small F?
U 1 1 5C1CAD40
P 1500 3700
F 0 "F?" V 1550 3800 50  0000 C CNN
F 1 "50mA PTC" V 1400 3650 50  0000 C CNN
F 2 "" H 1550 3500 50  0001 L CNN
F 3 "~" H 1500 3700 50  0001 C CNN
	1    1500 3700
	0    1    1    0   
$EndComp
Wire Wire Line
	1600 3700 1700 3700
Wire Wire Line
	1700 3700 1700 3500
Wire Wire Line
	1300 3700 1400 3700
Connection ~ 1300 3700
$Comp
L Connector_Generic:Conn_01x06 J?
U 1 1 5BF7BB3E
P 4350 9300
F 0 "J?" H 4350 9650 50  0000 C CNN
F 1 "Hall Sensors" H 4350 8850 50  0000 C CNN
F 2 "" H 4350 9300 50  0001 C CNN
F 3 "~" H 4350 9300 50  0001 C CNN
	1    4350 9300
	-1   0    0    1   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BF7BC81
P 4650 9600
F 0 "#PWR?" H 4650 9350 50  0001 C CNN
F 1 "GNDD" H 4654 9445 50  0000 C CNN
F 2 "" H 4650 9600 50  0001 C CNN
F 3 "" H 4650 9600 50  0001 C CNN
	1    4650 9600
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 5BF8E00C
P 4650 8700
F 0 "#PWR?" H 4650 8550 50  0001 C CNN
F 1 "+5V" H 4665 8873 50  0000 C CNN
F 2 "" H 4650 8700 50  0001 C CNN
F 3 "" H 4650 8700 50  0001 C CNN
	1    4650 8700
	1    0    0    -1  
$EndComp
Wire Wire Line
	4650 8700 4650 9000
Wire Wire Line
	4650 9000 4550 9000
Wire Wire Line
	4650 9600 4650 9500
Wire Wire Line
	4650 9500 4550 9500
$Comp
L MotorControllerParts:R R?
U 1 1 5BF9BD2E
P 5000 8900
F 0 "R?" H 5070 8946 50  0000 L CNN
F 1 "10K" H 5070 8855 50  0000 L CNN
F 2 "" V 4930 8900 50  0001 C CNN
F 3 "" H 5000 8900 50  0001 C CNN
	1    5000 8900
	1    0    0    -1  
$EndComp
Wire Wire Line
	4550 9100 5000 9100
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5BFAF9CA
P 5000 8700
F 0 "#PWR?" H 5000 8550 50  0001 C CNN
F 1 "+3.3V" H 5015 8873 50  0000 C CNN
F 2 "" H 5000 8700 50  0001 C CNN
F 3 "" H 5000 8700 50  0001 C CNN
	1    5000 8700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1150 3900 1700 3900
Text Label 4950 9100 2    50   ~ 0
MotorTemp
Text Label 4950 9200 2    50   ~ 0
HallA_in
Text Label 4950 9300 2    50   ~ 0
HallB_in
Text Label 4950 9400 2    50   ~ 0
HallC_in
Wire Wire Line
	4950 9200 4550 9200
Wire Wire Line
	4550 9300 4950 9300
Wire Wire Line
	4950 9400 4550 9400
Wire Wire Line
	5000 9100 5000 9050
Wire Wire Line
	5000 8750 5000 8700
Wire Wire Line
	1150 4700 1950 4700
$Comp
L MotorControllerParts:Trinamic-Conntector J?
U 1 1 5C4567B3
P 14100 2400
F 0 "J?" H 14125 1083 50  0000 C CNN
F 1 "Trinamic-Bridge" H 14125 1174 50  0000 C CNN
F 2 "" H 13600 2400 50  0001 C CNN
F 3 "" H 13600 2400 50  0001 C CNN
	1    14100 2400
	1    0    0    1   
$EndComp
Text Label 12850 3400 0    50   ~ 0
Vin
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C457497
P 13400 3550
F 0 "#PWR?" H 13400 3300 50  0001 C CNN
F 1 "GNDD" H 13404 3395 50  0000 C CNN
F 2 "" H 13400 3550 50  0001 C CNN
F 3 "" H 13400 3550 50  0001 C CNN
	1    13400 3550
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C45751A
P 14850 3550
F 0 "#PWR?" H 14850 3300 50  0001 C CNN
F 1 "GNDD" H 14854 3395 50  0000 C CNN
F 2 "" H 14850 3550 50  0001 C CNN
F 3 "" H 14850 3550 50  0001 C CNN
	1    14850 3550
	1    0    0    -1  
$EndComp
$Sheet
S 3450 1300 1400 3100
U 5BB2528B
F0 "IO Protection" 50
F1 "IO.sch" 50
F2 "USB_D+" B R 4850 1650 50 
F3 "USB_D-" B R 4850 1750 50 
F4 "CAN_Rx" B R 4850 1900 50 
F5 "CAN_Tx" B R 4850 2000 50 
F6 "Throttle" O R 4850 2150 50 
F7 "MotorTemp" O R 4850 2250 50 
F8 "TransistorTemp" O R 4850 2350 50 
F9 "A_In1" O R 4850 2500 50 
F10 "A_In2" O R 4850 2600 50 
F11 "D_In1" O R 4850 2700 50 
F12 "D_In2" O R 4850 2800 50 
F13 "D_In3" O R 4850 2900 50 
F14 "D_In4" O R 4850 3000 50 
F15 "A_Out1" I R 4850 3150 50 
F16 "A_Out2" I R 4850 3250 50 
F17 "D_Out1" I R 4850 3350 50 
F18 "D_Out2" I R 4850 3450 50 
F19 "D_GND" U L 3450 4300 50 
F20 "3.3v" I L 3450 1500 50 
F21 "5.0v" I L 3450 1400 50 
F22 "CAN_H" B L 3450 1900 50 
F23 "CAN_L" B L 3450 2000 50 
F24 "USB_D+_i" B L 3450 1650 50 
F25 "USB_D-_i" B L 3450 1750 50 
F26 "Throttle_i" I L 3450 2150 50 
F27 "MotorTemp_i" I L 3450 2250 50 
F28 "TransistorTemp_i" I L 3450 2350 50 
F29 "A_In1_i" I L 3450 2500 50 
F30 "A_In2_i" I L 3450 2600 50 
F31 "D_In1_i" I L 3450 2700 50 
F32 "D_In2_i" I L 3450 2800 50 
F33 "D_In3_i" I L 3450 2900 50 
F34 "D_In4_i" I L 3450 3000 50 
F35 "A_Out1_i" O L 3450 3150 50 
F36 "A_Out2_i" O L 3450 3250 50 
F37 "D_Out1_i" O L 3450 3350 50 
F38 "D_Out2_i" O L 3450 3450 50 
F39 "Phase_A_HAL_i" I L 3450 3600 50 
F40 "Phase_B_HAL_i" I L 3450 3700 50 
F41 "Phase_C_HAL_i" I L 3450 3800 50 
F42 "Phase_A_HAL" O R 4850 3600 50 
F43 "Phase_B_HAL" O R 4850 3700 50 
F44 "Phase_C_HAL" O R 4850 3800 50 
F45 "ENC_A_i" I L 3450 3950 50 
F46 "ENC_B_i" I L 3450 4050 50 
F47 "ENC_N_i" I L 3450 4150 50 
F48 "ENC_A" O R 4850 3950 50 
F49 "ENC_B" O R 4850 4050 50 
F50 "ENC_N" O R 4850 4150 50 
$EndSheet
Text Label 5150 3600 2    50   ~ 0
HallA
Text Label 5150 3700 2    50   ~ 0
HallB
Text Label 5150 3800 2    50   ~ 0
HallC
Wire Wire Line
	5150 3600 4850 3600
Wire Wire Line
	4850 3700 5150 3700
Wire Wire Line
	5150 3800 4850 3800
Text Label 3050 3600 0    50   ~ 0
HallA_in
Wire Wire Line
	3050 3600 3450 3600
Wire Wire Line
	3450 3700 3050 3700
Wire Wire Line
	3050 3800 3450 3800
Text Label 3050 3800 0    50   ~ 0
HallC_in
Text Label 3050 3700 0    50   ~ 0
HallB_in
Wire Wire Line
	13400 3550 13400 3300
Wire Wire Line
	13400 3300 13500 3300
Wire Wire Line
	12850 3400 13500 3400
Wire Wire Line
	14850 3550 14850 3400
Wire Wire Line
	14850 3400 14750 3400
Text Label 10400 2000 2    50   ~ 0
PWM_AH
Text Label 10400 2100 2    50   ~ 0
PWM_AL
Text Label 10400 2200 2    50   ~ 0
PWM_BH
Text Label 10400 2300 2    50   ~ 0
PWM_BL
Text Label 10400 2400 2    50   ~ 0
PWM_CH
Text Label 10400 2500 2    50   ~ 0
PWM_CL
Wire Wire Line
	10400 2300 10000 2300
Wire Wire Line
	10000 2400 10400 2400
Wire Wire Line
	10400 2500 10000 2500
Wire Wire Line
	10400 2200 10000 2200
Wire Wire Line
	10400 2100 10000 2100
Wire Wire Line
	10400 2000 10000 2000
Text Label 15450 2600 2    50   ~ 0
PWM_AH
Text Label 12850 2600 0    50   ~ 0
PWM_AL
Wire Wire Line
	12850 2600 13500 2600
Wire Wire Line
	15450 2600 14750 2600
Text Label 15450 2500 2    50   ~ 0
PWM_BH
Text Label 12850 2500 0    50   ~ 0
PWM_BL
Wire Wire Line
	12850 2500 13500 2500
Wire Wire Line
	15450 2500 14750 2500
Text Label 12850 2400 0    50   ~ 0
PWM_CL
Wire Wire Line
	12850 2400 13500 2400
Text Label 15450 2400 2    50   ~ 0
PWM_CH
Wire Wire Line
	15450 2400 14750 2400
Text Label 10400 2950 2    50   ~ 0
ADC_I_A
Text Label 10400 3050 2    50   ~ 0
ADC_I_B
Text Label 12850 2700 0    50   ~ 0
ADC_I_A
Text Label 15450 2800 2    50   ~ 0
ADC_I_B
Wire Wire Line
	15450 2800 14750 2800
Wire Wire Line
	12850 2700 13500 2700
Wire Wire Line
	10400 2950 10000 2950
Wire Wire Line
	10400 3050 10000 3050
Wire Wire Line
	15450 2700 14750 2700
Text Label 10500 1850 2    50   ~ 0
PWM_Idle_L
Text Label 10500 1750 2    50   ~ 0
PWM_Idle_H
Wire Wire Line
	10500 1750 10000 1750
Wire Wire Line
	10500 1850 10000 1850
Text Label 15450 1800 2    50   ~ 0
PWM_Idle_H
Text Label 12850 1700 0    50   ~ 0
PWM_Idle_L
Wire Wire Line
	12850 1700 13500 1700
Wire Wire Line
	15450 1800 14750 1800
$Comp
L MotorControllerParts:+BATT #PWR?
U 1 1 5C7FB2EE
P 10150 1250
F 0 "#PWR?" H 10150 1100 50  0001 C CNN
F 1 "+BATT" H 10165 1423 50  0000 C CNN
F 2 "" H 10150 1250 50  0001 C CNN
F 3 "" H 10150 1250 50  0001 C CNN
	1    10150 1250
	1    0    0    -1  
$EndComp
Wire Wire Line
	10000 1500 10150 1500
Wire Wire Line
	10150 1500 10150 1250
Text Label 10550 3150 2    50   ~ 0
Batt_Current
Wire Wire Line
	10550 3150 10000 3150
Text Label 15450 2700 2    50   ~ 0
Batt_Current
Text Label 10400 2600 2    50   ~ 0
PWM_DH
Text Label 10400 2700 2    50   ~ 0
PWM_DL
Wire Wire Line
	10000 2600 10400 2600
Wire Wire Line
	10400 2700 10000 2700
Text Label 15450 2200 2    50   ~ 0
PWM_DH
Text Label 12850 2300 0    50   ~ 0
PWM_DL
Wire Wire Line
	12850 2300 13500 2300
Wire Wire Line
	15450 2200 14750 2200
$Sheet
S 8400 1400 1600 2300
U 5BE2BA11
F0 "TMC4671" 50
F1 "TMC4671.sch" 50
F2 "PWM_Phase_AH" O R 10000 2000 50 
F3 "PWM_Phase_AL" O R 10000 2100 50 
F4 "PWM_Phase_BH" O R 10000 2200 50 
F5 "PWM_Phase_BL" O R 10000 2300 50 
F6 "PWM_Phase_CH" O R 10000 2400 50 
F7 "PWM_Phase_CL" O R 10000 2500 50 
F8 "~SPI_CS" I L 8400 1800 50 
F9 "SPI_SCK" I L 8400 1900 50 
F10 "SPI_MOSI" I L 8400 2000 50 
F11 "SPI_MISO" O L 8400 2100 50 
F12 "HALL_A" I L 8400 2900 50 
F13 "HALL_B" I L 8400 3000 50 
F14 "HALL_C" I L 8400 3100 50 
F15 "Phase_A_Current" I R 10000 2950 50 
F16 "Phase_B_Current" I R 10000 3050 50 
F17 "DGND" I L 8400 3600 50 
F18 "VBatt" I R 10000 1500 50 
F19 "PWM_Idle_H" I R 10000 1750 50 
F20 "PWM_Idle_L" I R 10000 1850 50 
F21 "Batt_Current" I R 10000 3150 50 
F22 "PWM_Phase_DH" O R 10000 2600 50 
F23 "PWM_Phase_DL" O R 10000 2700 50 
F24 "Brake_Chopper" O R 10000 2800 50 
F25 "En_Out" O R 10000 1650 50 
F26 "En_In" I L 8400 1500 50 
F27 "Status" O L 8400 1600 50 
F28 "ENC_A" I L 8400 3250 50 
F29 "ENC_B" I L 8400 3350 50 
F30 "ENC_N" I L 8400 3450 50 
$EndSheet
Wire Wire Line
	8100 3100 8400 3100
Wire Wire Line
	8400 3000 8100 3000
Wire Wire Line
	8100 2900 8400 2900
Text Label 8100 3100 0    50   ~ 0
HallC
Text Label 8100 3000 0    50   ~ 0
HallB
Text Label 8100 2900 0    50   ~ 0
HallA
Wire Wire Line
	7250 6900 6400 6900
Text Label 6400 6900 0    50   ~ 0
V_USB
Wire Wire Line
	7300 7200 7800 7200
Wire Wire Line
	8250 6900 8250 7400
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5BFA3DFE
P 6900 8000
F 0 "#PWR?" H 6900 7750 50  0001 C CNN
F 1 "GNDD" H 6904 7845 50  0000 C CNN
F 2 "" H 6900 8000 50  0001 C CNN
F 3 "" H 6900 8000 50  0001 C CNN
	1    6900 8000
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7550 6900 8250 6900
$Comp
L Device:D_Schottky_ALT D?
U 1 1 5DE9991E
P 7400 6900
F 0 "D?" H 7400 7000 50  0000 C CNN
F 1 "D_USB" H 7400 6800 50  0000 C CNN
F 2 "" H 7400 6900 50  0001 C CNN
F 3 "~" H 7400 6900 50  0001 C CNN
	1    7400 6900
	-1   0    0    1   
$EndComp
$Comp
L MotorControllerParts:R R?
U 1 1 5BFA3DF0
P 6900 7800
F 0 "R?" H 6700 7850 50  0000 L CNN
F 1 "10K" H 6650 7750 50  0000 L CNN
F 2 "" V 6830 7800 50  0001 C CNN
F 3 "~" H 6900 7800 50  0001 C CNN
	1    6900 7800
	-1   0    0    -1  
$EndComp
Wire Wire Line
	6900 7650 6900 7600
Connection ~ 6900 7600
Wire Wire Line
	6900 8000 6900 7950
Connection ~ 8250 6900
Text Label 1800 1450 2    50   ~ 0
V_USB
Wire Wire Line
	1800 1450 1400 1450
Text Label 8100 3250 0    50   ~ 0
ENC_A
Text Label 8100 3350 0    50   ~ 0
ENC_B
Text Label 8100 3450 0    50   ~ 0
ENC_N
Wire Wire Line
	8100 3450 8400 3450
Wire Wire Line
	8100 3350 8400 3350
Wire Wire Line
	8100 3250 8400 3250
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5E14F28A
P 8250 3850
F 0 "#PWR?" H 8250 3600 50  0001 C CNN
F 1 "GNDD" H 8250 3700 50  0000 C CNN
F 2 "" H 8250 3850 50  0001 C CNN
F 3 "" H 8250 3850 50  0001 C CNN
	1    8250 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	8250 3850 8250 3600
Wire Wire Line
	8250 3600 8400 3600
Text Label 5150 3950 2    50   ~ 0
ENC_A
Text Label 5150 4050 2    50   ~ 0
ENC_B
Text Label 5150 4150 2    50   ~ 0
ENC_N
Wire Wire Line
	5150 4150 4850 4150
Wire Wire Line
	5150 4050 4850 4050
Wire Wire Line
	5150 3950 4850 3950
$Comp
L Device:Polyfuse_Small F?
U 1 1 5E1B011D
P 1950 7600
F 0 "F?" H 1850 7600 50  0000 C CNN
F 1 "50mA PTC" H 1750 7500 50  0000 C CNN
F 2 "" H 2000 7400 50  0001 L CNN
F 3 "~" H 1950 7600 50  0001 C CNN
	1    1950 7600
	-1   0    0    1   
$EndComp
Wire Wire Line
	1950 7750 1950 7700
Wire Wire Line
	1950 7500 1950 7450
$Comp
L Device:Polyfuse_Small F?
U 1 1 5E1C927F
P 1700 7600
F 0 "F?" H 1600 7600 50  0000 C CNN
F 1 "50mA PTC" H 1900 7500 50  0000 C CNN
F 2 "" H 1750 7400 50  0001 L CNN
F 3 "~" H 1700 7600 50  0001 C CNN
	1    1700 7600
	-1   0    0    1   
$EndComp
Wire Wire Line
	1700 7500 1700 7450
Wire Wire Line
	1700 7850 1700 7700
Wire Wire Line
	13400 3300 13400 1300
Wire Wire Line
	13400 1300 13500 1300
Connection ~ 13400 3300
Wire Wire Line
	14850 3400 14850 1300
Wire Wire Line
	14850 1300 14750 1300
Connection ~ 14850 3400
Text Label 10400 1650 2    50   ~ 0
En_Out
Wire Wire Line
	10400 1650 10000 1650
Text Label 15450 1500 2    50   ~ 0
En_Out
Wire Wire Line
	15450 1500 14750 1500
Wire Wire Line
	7650 1500 8400 1500
Wire Wire Line
	7650 1600 8400 1600
Wire Wire Line
	4850 1900 5100 1900
Wire Wire Line
	4850 2000 5200 2000
Wire Wire Line
	5100 1200 5100 1900
Wire Wire Line
	5200 1200 5200 2000
Wire Wire Line
	7950 1200 7950 1800
Wire Wire Line
	8050 1200 8050 1900
Wire Wire Line
	8150 1200 8150 2000
Wire Wire Line
	8250 1200 8250 2100
Connection ~ 7950 1800
Wire Wire Line
	7950 1800 8400 1800
Connection ~ 8050 1900
Wire Wire Line
	8050 1900 8400 1900
Connection ~ 8150 2000
Wire Wire Line
	8150 2000 8400 2000
Connection ~ 8250 2100
Wire Wire Line
	8250 2100 8400 2100
Wire Wire Line
	7650 2100 8250 2100
Wire Wire Line
	7650 2000 8150 2000
Wire Wire Line
	7650 1900 8050 1900
Wire Wire Line
	7650 1800 7950 1800
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 5E6A4ACF
P 5100 1000
F 0 "J?" V 5100 750 50  0000 C CNN
F 1 "CAN_DBG" V 5200 950 50  0000 C CNN
F 2 "" H 5100 1000 50  0001 C CNN
F 3 "~" H 5100 1000 50  0001 C CNN
	1    5100 1000
	0    -1   -1   0   
$EndComp
Connection ~ 5100 1900
Connection ~ 5200 2000
Wire Wire Line
	5100 1900 5750 1900
Wire Wire Line
	5200 2000 5750 2000
$Comp
L Connector_Generic:Conn_01x04 J?
U 1 1 5E6B408E
P 8050 1000
F 0 "J?" V 8050 650 50  0000 C CNN
F 1 "SPI_DBG" V 8150 950 50  0000 C CNN
F 2 "" H 8050 1000 50  0001 C CNN
F 3 "~" H 8050 1000 50  0001 C CNN
	1    8050 1000
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3450 3950 3050 3950
Wire Wire Line
	3050 4050 3450 4050
Wire Wire Line
	3050 4150 3450 4150
Text Label 3050 4150 0    50   ~ 0
ENC_N_in
Text Label 3050 4050 0    50   ~ 0
ENC_B_in
Text Label 3050 3950 0    50   ~ 0
ENC_A_in
$Comp
L Connector_Generic:Conn_01x05 J?
U 1 1 5E777130
P 5450 9250
F 0 "J?" H 5450 9600 50  0000 C CNN
F 1 "ABN_In" H 5450 8900 50  0000 C CNN
F 2 "" H 5450 9250 50  0001 C CNN
F 3 "~" H 5450 9250 50  0001 C CNN
	1    5450 9250
	-1   0    0    1   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5E77742E
P 5750 9600
F 0 "#PWR?" H 5750 9350 50  0001 C CNN
F 1 "GNDD" H 5754 9445 50  0000 C CNN
F 2 "" H 5750 9600 50  0001 C CNN
F 3 "" H 5750 9600 50  0001 C CNN
	1    5750 9600
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 5E78636F
P 5750 8700
F 0 "#PWR?" H 5750 8550 50  0001 C CNN
F 1 "+5V" H 5765 8873 50  0000 C CNN
F 2 "" H 5750 8700 50  0001 C CNN
F 3 "" H 5750 8700 50  0001 C CNN
	1    5750 8700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5750 8700 5750 9050
Wire Wire Line
	5750 9050 5650 9050
Wire Wire Line
	5750 9600 5750 9450
Wire Wire Line
	5750 9450 5650 9450
Wire Wire Line
	5650 9150 6050 9150
Wire Wire Line
	6050 9250 5650 9250
Wire Wire Line
	6050 9350 5650 9350
Text Label 6050 9350 2    50   ~ 0
ENC_N_in
Text Label 6050 9250 2    50   ~ 0
ENC_B_in
Text Label 6050 9150 2    50   ~ 0
ENC_A_in
$Comp
L power:+5V #PWR?
U 1 1 5E8886B9
P 15000 1150
F 0 "#PWR?" H 15000 1000 50  0001 C CNN
F 1 "+5V" H 15015 1323 50  0000 C CNN
F 2 "" H 15000 1150 50  0001 C CNN
F 3 "" H 15000 1150 50  0001 C CNN
	1    15000 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	15000 1150 15000 1400
Wire Wire Line
	15000 1400 14750 1400
Text Label 10600 2800 2    50   ~ 0
Brake_Chopper
Wire Wire Line
	10600 2800 10000 2800
Text Label 15450 1700 2    50   ~ 0
Brake_Chopper
Wire Wire Line
	15450 1700 14750 1700
$Comp
L MotorControllerParts:TestPoint_2Pole TP?
U 1 1 5C16151D
P 10300 9400
AR Path="/5BE2BA11/5C16151D" Ref="TP?"  Part="1" 
AR Path="/5C16151D" Ref="TP?"  Part="1" 
F 0 "TP?" H 10250 9200 50  0000 L CNN
F 1 "5v_TP" H 10200 9300 50  0000 L CNN
F 2 "" H 10300 9400 50  0001 C CNN
F 3 "~" H 10300 9400 50  0001 C CNN
	1    10300 9400
	0    1    -1   0   
$EndComp
$Comp
L MotorControllerParts:TestPoint_2Pole TP?
U 1 1 5C1717BA
P 10650 9400
AR Path="/5BE2BA11/5C1717BA" Ref="TP?"  Part="1" 
AR Path="/5C1717BA" Ref="TP?"  Part="1" 
F 0 "TP?" H 10600 9200 50  0000 L CNN
F 1 "3v3_TP" H 10550 9300 50  0000 L CNN
F 2 "" H 10650 9400 50  0001 C CNN
F 3 "~" H 10650 9400 50  0001 C CNN
	1    10650 9400
	0    1    -1   0   
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5C172142
P 11000 9600
F 0 "TP?" H 11058 9720 50  0000 L CNN
F 1 "GND_TP" H 10850 9850 50  0000 L CNN
F 2 "" H 11200 9600 50  0001 C CNN
F 3 "~" H 11200 9600 50  0001 C CNN
	1    11000 9600
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:TestPoint TP?
U 1 1 5C17222F
P 11350 9600
F 0 "TP?" H 11408 9720 50  0000 L CNN
F 1 "GND_TP" H 11250 9850 50  0000 L CNN
F 2 "" H 11550 9600 50  0001 C CNN
F 3 "~" H 11550 9600 50  0001 C CNN
	1    11350 9600
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C1725A9
P 11000 9650
F 0 "#PWR?" H 11000 9400 50  0001 C CNN
F 1 "GNDD" H 11004 9495 50  0000 C CNN
F 2 "" H 11000 9650 50  0001 C CNN
F 3 "" H 11000 9650 50  0001 C CNN
	1    11000 9650
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C172708
P 11350 9650
F 0 "#PWR?" H 11350 9400 50  0001 C CNN
F 1 "GNDD" H 11354 9495 50  0000 C CNN
F 2 "" H 11350 9650 50  0001 C CNN
F 3 "" H 11350 9650 50  0001 C CNN
	1    11350 9650
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C17274F
P 10650 9650
F 0 "#PWR?" H 10650 9400 50  0001 C CNN
F 1 "GNDD" H 10654 9495 50  0000 C CNN
F 2 "" H 10650 9650 50  0001 C CNN
F 3 "" H 10650 9650 50  0001 C CNN
	1    10650 9650
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C1828DD
P 10300 9650
F 0 "#PWR?" H 10300 9400 50  0001 C CNN
F 1 "GNDD" H 10304 9495 50  0000 C CNN
F 2 "" H 10300 9650 50  0001 C CNN
F 3 "" H 10300 9650 50  0001 C CNN
	1    10300 9650
	1    0    0    -1  
$EndComp
Wire Wire Line
	10300 9650 10300 9600
Wire Wire Line
	10650 9650 10650 9600
Wire Wire Line
	11000 9650 11000 9600
Wire Wire Line
	11350 9650 11350 9600
$Comp
L MotorControllerParts:+5V #PWR?
U 1 1 5C268087
P 10300 9150
F 0 "#PWR?" H 10300 9000 50  0001 C CNN
F 1 "+5V" H 10315 9323 50  0000 C CNN
F 2 "" H 10300 9150 50  0001 C CNN
F 3 "" H 10300 9150 50  0001 C CNN
	1    10300 9150
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+3.3V #PWR?
U 1 1 5C2680CE
P 10650 9150
F 0 "#PWR?" H 10650 9000 50  0001 C CNN
F 1 "+3.3V" H 10665 9323 50  0000 C CNN
F 2 "" H 10650 9150 50  0001 C CNN
F 3 "" H 10650 9150 50  0001 C CNN
	1    10650 9150
	1    0    0    -1  
$EndComp
Wire Wire Line
	10300 9200 10300 9150
Wire Wire Line
	10650 9200 10650 9150
$Comp
L MotorControllerParts:TestPoint_2Pole TP?
U 1 1 5C29A226
P 9950 9400
AR Path="/5BE2BA11/5C29A226" Ref="TP?"  Part="1" 
AR Path="/5C29A226" Ref="TP?"  Part="1" 
F 0 "TP?" H 9900 9200 50  0000 L CNN
F 1 "5v_TP" H 9850 9300 50  0000 L CNN
F 2 "" H 9950 9400 50  0001 C CNN
F 3 "~" H 9950 9400 50  0001 C CNN
	1    9950 9400
	0    1    -1   0   
$EndComp
$Comp
L MotorControllerParts:GNDD #PWR?
U 1 1 5C29A282
P 9950 9650
F 0 "#PWR?" H 9950 9400 50  0001 C CNN
F 1 "GNDD" H 9954 9495 50  0000 C CNN
F 2 "" H 9950 9650 50  0001 C CNN
F 3 "" H 9950 9650 50  0001 C CNN
	1    9950 9650
	1    0    0    -1  
$EndComp
$Comp
L MotorControllerParts:+BATT #PWR?
U 1 1 5C29A43F
P 9950 9150
F 0 "#PWR?" H 9950 9000 50  0001 C CNN
F 1 "+BATT" H 9965 9323 50  0000 C CNN
F 2 "" H 9950 9150 50  0001 C CNN
F 3 "" H 9950 9150 50  0001 C CNN
	1    9950 9150
	1    0    0    -1  
$EndComp
Wire Wire Line
	9950 9200 9950 9150
Text Notes 9900 8850 0    50   ~ 0
Remember the golden rule of debugging:\n**Thou Shalt Measure Voltages**\nThese points have been provided for your\nmeasurement convienence.
Wire Notes Line
	9600 8350 11700 8350
Wire Notes Line
	11700 8350 11700 10000
Wire Notes Line
	11700 10000 9600 10000
Wire Notes Line
	9600 10000 9600 8350
Wire Wire Line
	9950 9650 9950 9600
Text Notes 10200 8450 0    50   ~ 0
Power supply test points
NoConn ~ 1400 1850
Text Notes 12800 850  0    50   ~ 0
PWM_Ax, PWM_Bx, and PWM_Cx correspond to the A, B, and C phases of\na three phase motor. The PWM_Dx lines are for a "extra" fourth phase.\nNote that the A, B, and C lines may be labeled U, V, and W elsewhere which\nare their european designation.
$EndSCHEMATC
